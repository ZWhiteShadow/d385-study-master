<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D385 Study Master</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .lucide { width: 1em; height: 1em; }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        
        // Simple icon components
        const Brain = () => React.createElement('div', { className: 'w-8 h-8 bg-indigo-600 rounded' });
        const RotateCcw = () => React.createElement('div', { className: 'w-4 h-4 bg-gray-600 rounded' });
        const FileCode = () => React.createElement('div', { className: 'w-5 h-5 bg-blue-600 rounded' });
        const HelpCircle = () => React.createElement('div', { className: 'w-5 h-5 bg-purple-600 rounded' });
        const Lightbulb = () => React.createElement('div', { className: 'w-4 h-4 bg-yellow-600 rounded' });
        const Code = () => React.createElement('div', { className: 'w-4 h-4 bg-green-600 rounded' });
        const AlertCircle = () => React.createElement('div', { className: 'w-4 h-4 bg-orange-600 rounded' });
        const BookOpen = () => React.createElement('div', { className: 'w-4 h-4 bg-purple-600 rounded' });
        const Trophy = () => React.createElement('div', { className: 'w-8 h-8 bg-yellow-500 rounded' });
        const SkipForward = () => React.createElement('div', { className: 'w-4 h-4 bg-gray-600 rounded' });
        const CheckCircle = () => React.createElement('div', { className: 'w-4 h-4 bg-green-500 rounded-full' });
        const XCircle = () => React.createElement('div', { className: 'w-4 h-4 bg-red-500 rounded-full' });

        const PATTERNS = [
          { id: 1, name: "Logging Error", category: "Logging", difficulty: "Easy", problem: "Log a division by zero error with the exception message", hint: "Use logging.error() with str(e)", answer: "logging.error('The exception that occurred is: ' + str(e))", commonMistakes: ["Forgetting str(e)", "Wrong quote style"], jsEquivalent: "console.error('The exception that occurred is: ' + e.message)", explanation: "Logs error messages to track exceptions.", originalQuestion: `The purpose of this lab is to introduce students to the process of creating, accessing, and generating log files using code. Use the template provided in order to write code that outputs log information with the basic configuration of level name and message, based on the information in the template.

When you divide a number by zero, write an error message to the log.

For Example, if the input is:
9
0

The output to the console will be the following:
ERROR: The exception that occurred is: division by zero

Alternatively, if the input is:
10
2

The output to the console will be the following:
5.0

Alternatively, if the input is:
0
20

The output to the console will be the following:
0.0

import logging
import sys

# Define a function to handle division by zero error and log it while printing the output to the screen.
def divideByZeroError(dividend, divisor):
    # Configure the logging module to output messages to sys.stdout with a specific format.
    logging.basicConfig(stream=sys.stdout,format='%(levelname)s:%(message)s')
    
    try:
        # Attempt division to get the quotient.
        quotient = dividend/divisor
        print (quotient)
        
    except Exception as e:
        # If an exception occurs during division, log the error using the logging module, including the exception message (str(e)).
        # YOUR CODE HERE

if __name__ == '__main__': 
    # Get the values for dividend and divisor from user input.
    dividend = int(input())
    divisor = int(input())
    
    # Call the divideByZeroError function with the provided input values to handle any potential division errors.
    divideByZeroError(dividend,divisor)` },
          { id: 2, name: "Check Null", category: "Defensive Coding", difficulty: "Medium", problem: "Check if x is None, print message, return y. Then check if y is None with elif", hint: "Use 'if x is None:' then 'elif y is None:', NOT 'else'!", answer: `if x is None:\n    print("x is a null value")\n    return y\nelif y is None:\n    print("y is a null value")\n    return x\nelse:\n    return x * y`, commonMistakes: ["Using 'else' instead of 'elif'", "Using == instead of 'is'"], jsEquivalent: "if (x === null) { return y; } else if (y === null) { return x; }", explanation: "CRITICAL: Use ELIF not ELSE!", originalQuestion: `Check a Null Setting Using Assertions
For this lab you will use unit testing to check a null setting using assertions. Use the commented template code provided to do the following:
Use the assertIsNone() function from Python's unittest library to verify whether an input value is "None" or "not" using a test case. A Boolean value should be returned by this function based upon the assert condition that the two parameter inputs are received. .
The assertIsNone() function will return true if the input value is equal to "None", and false if it is not. In the multiply_numbers function, test for all cases of a null value. Return the not-null value for each condition with a print statement of the null value.
For example, the output to the console from the source code multiply_numbers(5, None) will be the following output:
y is a null value
5 is not None

# unit test case
import unittest

def multiply_numbers(x, y):
    #add your code here
    return x * y
   # add your code here
   
   
class TestForNone(unittest.TestCase):
        
    def test_when_a_is_null(self):
        try:
            self.assertIsNone(multiply_numbers(5, None))
        except AssertionError as msg:
            print(msg)

if __name__ == '__main__':  
    unittest.main()` },
          { id: 3, name: "Template Class", category: "Security", difficulty: "Medium", problem: "Create a safe string template and substitute the name variable", hint: "Use Template class from string module", answer: `name_template = Template("Hello, my name is $name.")\ngreeting = name_template.substitute(name=name)\nprint(greeting)`, commonMistakes: ["Using f-strings instead", "Wrong variable syntax"], jsEquivalent: "`Hello, my name is ${name}`", explanation: "Prevents template injection attacks", originalQuestion: `Secure Code with Template Class
An attacker was able to get access to sensitive information. Fix the templated code provided below to make it more secure.
Sample Input:
Jane Doe
jane_doe@email.com

If the code is not fixed properly, the output to the console will be:
The secret is 'you've just exposed your secret_key'

Alternatively, when the code is fixed properly the output to the console should be:
Hello, my name is Jane Doe.

Hint: Python objects can access internal attributes, including a dictionary of global variables. You can eliminate such vulnerabilities by avoiding invalidated user inputs. Create a string template object to create simplified syntax for output specification and then map that object with the keyword argument. Be sure to use the Template class which is a safer method to create a simple template string.

from string import Template

CONFIG = {
    "API_KEY": "'you've just exposed your secret_key'"
}

class User:
    name = ""
    email = ""

    def __init__(self, name, email):
        self.name = name
        self.email = email

    def __str__(self):
        return self.name
        
if __name__ == '__main__':
    name = input()
    email = input()
    
    user = User(name, email)
    
    # FIXME:  Here is where you want to use the template class
    print(f"The secret is {user.__init__.__globals__['CONFIG']['API_KEY']}")` },
          { id: 4, name: "Rate Limiting", category: "Security", difficulty: "Hard", problem: "Calculate bucket value for rate limiting", hint: "bucket = self.bucket + time_passed * (rate / per)", answer: "bucket = self.bucket + time_passed * (self.rate / self.per)", commonMistakes: ["Forgetting self.", "Wrong formula"], jsEquivalent: "bucket = this.bucket + timePassed * (this.rate / this.per)", explanation: "Token bucket algorithm", originalQuestion: `Rate Limiting

With rate limiting, a unique IP address is restricted from making too many requests in a fixed period of time.

The code snippet below implements rate limiting using a "Token Bucket." Each time a message is received: the bucket is checked for tokens. If the bucket has 1 or more tokens, the algorithm removes one token and sends the message. If no tokens remain in the bucket, the algorithm drops the message.

Complete ***line #18*** to finish the *limit()* function and ensure that the API only allows ***5 messages*** per every ***10 seconds***.

See commented lines for detailed instructions.

When correct, this code should produce no output.

The output to the console will be the following:
(Your program produced no output)

import time
    
class Limiter:
  def __init__(self, rate, per):
    self.rate = rate
    self.per = per
    self.bucket = rate
    self.last_check = time.time()

  def limit(self, callback_fn):
      current = time.time()
      time_passed = current - self.last_check
      self.last_check = current
      
      # Finish line 18 by writing an expression that determines the value of the bucket
      # Use the following variables in your expression: time_passed, self.bucket, self.rate, and self.per 
      bucket = # Insert your expression here
      
      if (bucket > self.rate):
          self.bucket = self.rate
      if (bucket < 1):
          pass
      else:
          callback_fn()
          self.bucket = bucket - 1` },
          { id: 5, name: "Assert Temperature", category: "Testing", difficulty: "Easy", problem: "Assert temperature is >= 0 with message", hint: "assert condition, 'message'", answer: `assert Temperature >= 0, "Colder than zero degrees Celsius!"`, commonMistakes: ["Using > instead of >="], jsEquivalent: "if (temperature < 0) throw new Error(...)", explanation: "Assertions validate preconditions", originalQuestion: `Assertions can be an excellent tool if you're looking for a way to increase the effectiveness of your debugging and testing processes. In the following lab, you will demonstrate the basics of using assert statements, including how to write logical statements and when to use assertion statements in your code.

Using the templated code provided, write an assertion statement where noted in the template code. The assertion statement needs to determine whether an integer input is below freezing using the phrase: "Colder than zero degrees Celsius!".

For example if the input is
-5

The output to the console for your assertion statement will be the following:
Colder than zero degrees Celsius!

If the input is greater than zero degrees Celsius (*note: this code is already provided*):
5

The output to the console in Fahrenheit will be the following:
41

def CelciusToFahrenheit(Temperature):
    #insert assert statement for, "Colder than zero degrees Celsius!"
    # YOUR CODE HERE
    return ((Temperature*9)/5)+32

if __name__ == '__main__':  
    Temperature = int(input())
    try:
        print(CelciusToFahrenheit(Temperature))
    except AssertionError as msg:
        print(msg)

***should it be '>' or '≥'***` },
          { id: 6, name: "Check Numeric & Null", category: "Validation", difficulty: "Easy", problem: "Return True if wg_int is integer, and True if wg_string is not None", hint: "Use isinstance() and 'is not None'", answer: `return isinstance(wg_int, int)\n\nreturn wg_string is not None`, commonMistakes: ["Using == instead of 'is'"], jsEquivalent: "typeof wg_int === 'number'", explanation: "Type and null checking", originalQuestion: `Check Data to Verify Values/Null

External data quality can affect downstream systems, reporting, and metrics and cause vulnerabilities in our systems. Using the templated code provided, write one method to check if a string is not null and a separate method to check if a string contains all numbers.

Your first variable will be a string and contain a simple sentence, such as "I like dogs." Your second variable will be an integer and will contain a few numbers, such as 12345.

Complete the functions in the code template.

For example, if the variables in the templated code are:
I like dogs.
12345

The output to the console will be the following:
True
True

Alternatively, if the variable values in the template code are changed to:
None
12345

The output to the console will be the following:
False
True

Alternatively, if the variable values in the template code are changed to:
None
"I love dogs"

The output to the console will be the following:
False
False

# verify we only have digits
def check_numeric_value(wg_int):
    #return true if numeric value is an integer, else return false.  
    #Hint: use isinstance function
    # YOUR CODE HERE

# verify if the string is null
def check_null_string (wg_string):
    # check if wg_string is not null return true else return false
    # YOUR CODE HERE
       
if __name__ == '__main__':  
    wg_string = "I like dogs." # use keyword None to test
    wg_int = 12345
    
    print(check_null_string (wg_string))
    print(check_numeric_value(wg_int))` },
          { id: 7, name: "SHA3-256 Hashing", category: "Cryptography", difficulty: "Medium", problem: "Hash password using SHA3-256 and return hexdigest", hint: "Use hashlib.sha3_256(), update(), hexdigest()", answer: `d = hashlib.sha3_256()\nd.update(enc_pwd)\nhash = d.hexdigest()`, commonMistakes: ["Using sha256 instead of sha3_256"], jsEquivalent: "crypto.createHash('sha256')", explanation: "Secure one-way hashing", originalQuestion: `Hashing (Hashlib)
Nearly everything is done online where users can sign-up using a username and password. Malicious hackers can steal your password and access your bank account or any personal information. Passwords are stored using encryption or hashing. Both methods provide valuable capabilities; however, symmetric encryption is a reversible operation and based on the use of an encryption key. Anyone possessing the key can decrypt an encrypted value to obtain the original value.
The hashing operation is not reversible.
Using a broken or weak cryptographic hash function can leave data vulnerable and should not be used in security related code.
The template code shows a function for hashing passwords, but it is using a weak and insecure hashing algorithm. Fix the code to ensure that the hashing matches the below sample inputs and outputs to prevent tampering. Be sure to analyze each line of code to ensure your hashing algorithm is secure.
Hint: use hex instead of binary.
For example, if the input is:
Password

The output to the console will be the following:
545e50bcc34933b23852a89857e05d6a524b2101e79858d6f65c99a36be4e862

Alternatively, if the input is:
Love3Python

The output to the console will be the following:
c9e1c3bc7cf1f2c1b01296085d57acd66f90921dcc55c08a0bd6744b19aecb8c

import hashlib

def hash_password(pwd):
    # encode password string to bytes
    enc_pwd = pwd.encode()
    
    # call the sha256(...) function returns a hash object
    d = hashlib.sha256(enc_pwd)
    
    # generate binary hash of password string in hexidecimal
    hash = d.digest()
    
    return hash
    
if __name__ == '__main__':
    pwd = input()
    
    print(hash_password(pwd))` },
          { id: 8, name: "Deserialization", category: "Security", difficulty: "Hard", problem: "Generate new key, check if matches, return deserialized data", hint: "new_key = generate_key(serialized_data)", answer: `new_key = generate_key(serialized_data)\nif key == new_key:\n    return deserialize(serialized_data)\nelse:\n    raise Exception('New key does not match old key')`, commonMistakes: ["Not generating new key"], jsEquivalent: "if (key === newKey) { return deserialize(data); }", explanation: "Validates data integrity", originalQuestion: `To protect against remote code execution, it is important to validate incoming data for deserialization . One way to ensure the integrity of incoming data is to validate it using generated digest keys.

Using the provided template code, complete the function to validate incoming serialized data. For the purpose of this lab, you have access to the generate_key() and deserialize() functions.

*Your function should return the result of deserialize() if it passes validation, otherwise it should raise an Exception*

If the code is not fixed properly, the output to the console will be:
Error: New key does not match old key

Alternatively, when the code is fixed properly, the output to the console will be:
(Your program produced no output)

from generate_key import generate_key
from deserialize import deserialize 
from serialize import serialize

def safe_deserialize(key, serialized_data):
    new_key = '' # replace the empty string with a newly generated key
    
    try:
        if key == new_key:
            return # return deserialized data when validation passes
        else:
            raise Exception('New key does not match old key')
    except Exception as error:
        print('Error:', error)
        
    return False

# Example usage
grades = {'Alice': 89, 'Bob': 72, 'Charles': 87}
serialized_data = serialize(grades)
deserialized_data = safe_deserialize(generate_key(serialized_data), serialized_data)` },
          { id: 9, name: "Numeric Validation", category: "Validation", difficulty: "Easy", problem: "Check if zipCode is an integer", hint: "Try int(zipCode)", answer: `zip_check = int(zipCode)`, commonMistakes: ["Not assigning to variable"], jsEquivalent: "parseInt(zipCode, 10)", explanation: "Type validation by conversion", originalQuestion: `Verify Data is Valid (Numeric)
It is important to ensure that user input is valid before acceptance to verify that the data received is of the expected data type.
Using the provided template code, validate that the zip code input by the user is an integer data type.
For example, if an integer input is:
12345

The output to the console will be the following:
Your zip code is 12345.

Alternatively, if a non-integer value input is:
abcdefg

The output to the console will be the following:
Please use numeric digits for the zip code.

#check if the zipcode input is numeric
if __name__ == '__main__': 
    zipCode = input()
    try:
        #check that zip code is an integer value
        # YOUR CODE HERE
        print(f'Your zip code is {zipCode}.')

    except:
        print('Please use numeric digits for the zip code.')` },
          { id: 10, name: "Length Validation", category: "Validation", difficulty: "Easy", problem: "Check if password length is >= 8", hint: "Use len() function", answer: `if len(password) >= 8:\n    print("Your password is long enough.")\nelse:\n    print("Your password is too short.")`, commonMistakes: ["Using > instead of >="], jsEquivalent: "if (password.length >= 8) { ... }", explanation: "Validates minimum password length", originalQuestion: `Verify Data is Valid (Length)
You are being asked to check that the user input is valid before accepting it. As part of this process, you will validate that the data received is of the expected length.
Using the provided template code, validate that the length of a password meets length requirements. Create a conditional statement that checks if the length of a password input is greater than or equal to 8 characters. Output the correct statement depending on the length of the user's password.
For example, if the input input of appropriate character length is:
12345678

The output to the console will be the following:
Your password is long enough.

Alternatively, if the input of inappropriate character length is:
1234

The output to the console will be the following:
Your password is too short.

#check if the length of the password is at least 8 characters
if __name__ == '__main__': 
    password = input()
    
    #write an if / else statement to evaluate passwords length
    # YOUR CODE HERE` },
          { id: 11, name: "Range Validation", category: "Validation", difficulty: "Medium", problem: "Check if num is in range 1-10", hint: "Use 'num in r' where r = range(1,11)", answer: `if num in r:\n    print("The number input is in the range from 1 and 10.")\nelse:\n    print("The number input is not in the range from 1 and 10.")`, commonMistakes: ["Using range(1,10)"], jsEquivalent: "if (num >= 1 && num <= 10) { ... }", explanation: "Range checking", originalQuestion: `Verify Data is Valid (range)
You are being asked to validate that a numeric input is within a pre-defined range.
Using the provided template code, create an input validation check to ensure an input value is within the range of values from 1 to 10, inclusive. Use the range() function to check the input variable's value against the defined range. The code should output a message of "The number input is in the range from 1 and 10." or "The number input is not in the range from 1 and 10." depending on the numeric value of the variable.
For example, if the input within range is:
8

The output to the console will be the following:
The number input is in the range from 1 and 10.

Alternatively, if the input out of range is:
15

The output to the console will be the following:
The number input is not in the range from 1 and 10.

#check if the input range is between 1 and 10 for the range validation check
if __name__ == '__main__': 
    r = range(1,10)
    num = int(input())
    
    # create conditional statement for range check here
    # YOUR CODE HERE` },
          { id: 12, name: "AES Encryption", category: "Cryptography", difficulty: "Easy", problem: "Encrypt plain_text using the cipher object", hint: "encrypted_text = cipher.encrypt(plain_text)", answer: `encrypted_text = cipher.encrypt(plain_text)`, commonMistakes: ["Wrong method name"], jsEquivalent: "cipher.update(plainText)", explanation: "AES encryption", originalQuestion: `AES Encryption
DOS attacks on network traffic are on the rise. In this lab, use AES encryption to ensure your TCP is not vulnerable.
Using the provided template code, fix the encrypt function which should pass the plain_text to be encrypted. Use line 15 in the templated code to encrypt the variable input cipher.
For example, if the input is:
This is a secret message.

The output to the console should be the following:
Enter message: AAAAAAAAAAAAAAAAAAAAEMGL1m8afoCe3ddRA+oFr+O1jtpvSXaU25KjSg/6V6PktYKfb190gdvI108D+gSr8PDN63RTZNPXz9dDRvoSqeXwl59xX2SA39uSDDLhHrm3/JCffRpklt3OklZG5BK55PSE2jJuf5rNnJ5RRuhXufL2kdpoGnqWzc+WRQOnI6L+5sPWbxp2083ZlFAD/Ven8uaQ3ntfOafW1YQCD/pXq7fmhtxuX2PT09mEUQfuEuTD/YrMPFNk09+chEcF+xK+t/iGzG9bcJaQ6J9LFakeubf0w8x5WWWWypyaRxX6Fq3yu7fXdUk3ms2clgIV7BS48uHD0nlJZJLZ2dkkYI9xzJE=

import hashlib
from Crypto.Cipher import AES
from base64 import b64encode, b64decode
import os

class AESCipher(object):
    def __init__(self, key):
        self.block_size = AES.block_size
        self.key = hashlib.sha256(key.encode()).digest()

    def encrypt(self, plain_text):
        plain_text = self.__pad(plain_text)
        counter = self.block_size.to_bytes(self.block_size, "big")
        cipher = AES.new(self.key, AES.MODE_CTR, counter=lambda: counter)
        #FIX ME:  encrypted_text = ?
        return b64encode(counter + encrypted_text).decode("utf-8")

    def __pad(self, plain_text):
        number_of_bytes_to_pad = self.block_size - len(plain_text) % self.block_size
        ascii_string = chr(number_of_bytes_to_pad)
        padding_str = number_of_bytes_to_pad * ascii_string
        padded_plain_text = plain_text + padding_str
        return padded_plain_text

if __name__ == '__main__':
    msg = input("Enter message: ")
    cipher = AESCipher(msg)
    #Test the message size
    msg = msg*10
    
    print(cipher.encrypt(msg))` },
          { id: 13, name: "Least Privilege", category: "Security", difficulty: "Hard", problem: "Set admin permissions (RWX) if result is True, else set read-only", hint: "stat.S_IRWXU for admin", answer: `if result:\n    os.chmod(filename, stat.S_IRWXU)\nelse:\n    os.chmod(filename, stat.S_IRUSR | stat.S_IRGRP | stat.S_IROTH)`, commonMistakes: ["Wrong permission flags"], jsEquivalent: "fs.chmod with 0o700 vs 0o444", explanation: "Principle of least privilege", originalQuestion: `Least Privilege Permission Levels

Using the template code provided, fix the code that is vulnerable to least privilege. You will need to change the permission level appropriately for each level of users as follows:

- Admin should have permission to Read, Write, and Execute
- Users should have permission to Read

You will need to fix the grant permission method.

For example, if an Admin input is:
my_dict.txt
Reagan

The output to the console will be the following:
Exists the path: True
Access to read the file: True
Access to write the file: True
Check if path can be executed: True

Alternatively, if a User input is:
my_dict.txt
Doe

The output to the console will be the following:
Exists the path: True
Access to read the file: True
Access to write the file: False
Check if path can be executed: False

my_dict.txt contains a dictionary list of authorized admin users and their username:
 * Caius : ccharlton329
 * Peyton : pstott885
 * Reagan : rebradshaw835
 * Ryley : rbarber894
 * Tyrese : tmayo945

Admins can write to the output_file.txt file:
 * I have write privilege.

import os
import stat

def admin(filename, admin):
    return admin
    
def user(filename, user):
    return user    
    
def grant_permission(name_list, filename):
    # FIXME
    # YOUR CODE HERE
    check_permission(filename)

def check_permission(filename):
    # Check if file path exists
    path1 = os.access(filename, os.F_OK)
    print("The path exists:", path1)
    # Check if User has Read Access
    path2 = os.access(filename, os.R_OK)
    print("Access to read the file:", path2)
    # Check if User has Write Access
    path3 = os.access(filename, os.W_OK)
    print("Access to write the file:", path3)
    # Check if User has Execute Permission
    path4 = os.access(filename, os.X_OK)
    print("Check if path can be executed:", path4)

    if os.access(filename, os.R_OK):
        # open txt file as file
        with open(filename) as file:
            file.read()
    else:		
        # in case can't access the file	
        print("Cannot access the file")

    with open("output_file.txt", 'w') as f:
        if os.access(filename, os.W_OK):
            f.write("I have write privilege.\n")
    
if __name__ == '__main__':
    filename = input()
    name = input()
    k = []
    result = False

    with open(filename) as f:
        for line in f:
            fields = line.split()
            k.append(fields[0])
            
        for lineNum in range(len(k)):
            if name in k[lineNum]:
                result = True
                name_result = name
                
        if result:
            admin(filename, name)
        else:
            user(filename, name)

    grant_permission(k, filename)` },
          { id: 14, name: "Broken Authorization", category: "Security", difficulty: "Medium", problem: "Only show data if GetUserID() equals ownerID", hint: "Add check inside ShowData() function", answer: `if(GetUserID() == ownerID):\n    print("This is the user data")`, commonMistakes: ["Putting check outside function"], jsEquivalent: "if (getUserID() === ownerID) { ... }", explanation: "Fixes broken authorization", originalQuestion: `Broken Object Level Authorization
When all resources for a certain user are requested, information such as a userID might be passed on to the server as part of the request.
 <https://website.com/get_users_search_history?userID=4567>

If the userID of User A is changed to that of User B, it should not be possible to view User A's search history. If User A's search history is still accessible, this issue is due to Broken Object Level Authorization.
Using the provided template code, address the Broken Object Level Authorization issue by fixing the code.
Hint: Start by checking if the currently logged-in user has permission to access those objects that need to be done. Our requirement in this example is to check whether the userID provided in the GET parameter matches the userID supplied in the owner parameter for the object.
Currently, the output to the console output from the authorization code is the following:
You are not allowed to view this data
Redirecting to homepage
This is the user data

Once you have fixed the code, the output to the console the expected output from the authorization code will be the following:
You are not allowed to view this data
Redirecting to homepage

#Simulated auhorization code

ownerID = 4567

def ShowData():
    # YOUR CODE HERE
    print("This is the user data")
def Redirect():
    print("Redirecting to homepage")
def GetUserID():
    return 1234

if(not GetUserID() == ownerID):  # this is just a simulation, this line is typically !$_GET['userID'] === object.ownerID
    print( "You are not allowed to view this data")
    Redirect()

ShowData()` }
        ];

        const FLASHCARDS = [
          { id: 201, category: "Authentication", difficulty: "Easy", question: "What is LDAP?", answer: "commonly used to handle directory services such as user authentication, authorization, and directory management" },
          { id: 202, category: "Access Control", difficulty: "Easy", question: "What is ACL?", answer: "a list of permissions associated with a network resource or object that specifies which users or systems are allowed or denied access to that resource" },
          { id: 203, category: "HTTP Methods", difficulty: "Easy", question: "What is a GET Request?", answer: "used to retrieve data from a specified resource on a web server. It is one of the most common HTTP methods and is used to request data without modifying or affecting the server's state" },
          { id: 204, category: "HTTP Response", difficulty: "Medium", question: "What does response.history provide?", answer: "provides a list of Response objects that represent the intermediate responses encountered while following redirects" },
          { id: 205, category: "Attacks", difficulty: "Easy", question: "What is Denial of Service?", answer: "an attempt to overload a website or network, with the aim of degrading its performance or even making it completely inaccessible" },
          { id: 206, category: "API Security", difficulty: "Medium", question: "What is API Mass Assignment?", answer: "an application allows users to update multiple fields or attributes of an object via an API endpoint without proper validation or restrictions" },
          { id: 207, category: "Attacks", difficulty: "Medium", question: "What is Man in the Middle Interception?", answer: "criminal puts themselves between client and server, done via creating an unsecure wifi network, finding entry into an insecure network via packet sniffer, creaking fake websites, or manipulating IP protocols" },
          { id: 208, category: "Attacks", difficulty: "Medium", question: "What is Man in the Middle Decryption?", answer: "Use of data capture tools to transmit any login info or web activity back to the criminal to be decrypted" },
          { id: 209, category: "Prevention", difficulty: "Easy", question: "What is Cross Site Scripting prevention?", answer: "Validate and Sanitize all user inputs" },
          { id: 210, category: "Prevention", difficulty: "Easy", question: "What is Code Injection prevention?", answer: "input validation" },
          { id: 211, category: "Prevention", difficulty: "Medium", question: "What is Man in the Middle prevention?", answer: "HTTPS, up to date certificates, authenticate users/devices, avoid open wifi networks" },
          { id: 212, category: "Prevention", difficulty: "Medium", question: "What is Broken Access Control prevention?", answer: "Implement strong authentication and authorization, Role-Based Access Control" },
          { id: 213, category: "Prevention", difficulty: "Medium", question: "What is Broken Function Level Authorization prevention?", answer: "Role Based Access Control, Server Side Authorization Checks" },
          { id: 214, category: "Access Control", difficulty: "Hard", question: "What is field-level access control?", answer: "regulates access to specific fields or attributes within a resource, rather than the resource as a whole" },
          { id: 215, category: "Access Control", difficulty: "Hard", question: "What is resource-level access control?", answer: "governs which users or entities can access specific resources within a system, application, or service" },
          { id: 216, category: "CORS", difficulty: "Hard", question: "What is ACAO client.url?", answer: "Access Control Allow Origin (ACAO) - client request to (server) www.client.url , what does server send back?" },
          { id: 217, category: "Attacks", difficulty: "Medium", question: "What is XSS Example/Explanation?", answer: "Attacker inserts malicious script (generally through input fields or url parameters not properly sanitized) that is executed by other users who visit the site" },
          { id: 218, category: "HTTP Status", difficulty: "Easy", question: "What is 200 OK?", answer: "Your request was successful!" },
          { id: 219, category: "HTTP Status", difficulty: "Easy", question: "What is 201 Created?", answer: "The request was accepted, and the resource was created" },
          { id: 220, category: "HTTP Status", difficulty: "Easy", question: "What is 400 - Bad Request?", answer: "indicates that the server could not understand or process the request due to invalid syntax or bad formatting" },
          { id: 221, category: "HTTP Status", difficulty: "Easy", question: "What is 401 - Unauthorized?", answer: "indicates that the request lacks valid authentication credentials" },
          { id: 222, category: "HTTP Status", difficulty: "Easy", question: "What is 403 - Forbidden?", answer: "indicates that the server understands the request but refuses to authorize it" },
          { id: 223, category: "HTTP Status", difficulty: "Easy", question: "What is 404 - Not Found?", answer: "indicates that the server could not find the requested resource" },
          { id: 224, category: "HTTP Status", difficulty: "Medium", question: "What is 405 Method Not Allowed?", answer: "The endpoint doesn't allow for that specific HTTP method" },
          { id: 225, category: "HTTP Status", difficulty: "Easy", question: "What is 500 Internal Server Error?", answer: "Your request wasn't expected and probably broke something on the server side" },
          { id: 226, category: "HTTP Response", difficulty: "Medium", question: "What is response.status_code?", answer: "represents the HTTP status code returned by the server in response to a request" },
          { id: 227, category: "Rate Limiting", difficulty: "Medium", question: "What is rate limited requests?", answer: "refers to a request that is constrained by a rate limit imposed by a server or API to control the frequency of requests from a client" },
          { id: 228, category: "Attacks", difficulty: "Hard", question: "What is Privilege Escalation?", answer: "occurs when an attacker gains elevated access rights or permissions beyond those originally granted to them" },
          { id: 229, category: "Authentication", difficulty: "Easy", question: "What is Authentication?", answer: "refers to giving a user permissions to access a particular resource. Since, everyone can't be allowed to access data from every URL, one would require authentication primarily" },
          { id: 230, category: "HTTP Status", difficulty: "Medium", question: "What is 403 - The user can reach the site but not access further?", answer: "more permission needed. Headers and Cookies provide necessary data that is validated for requests" }
        ];

        const MC_QUESTIONS = [
          { id: 101, category: "Logging", difficulty: "Easy", question: "What is the primary defense against log injection attacks?", options: ["Sanitize outbound log messages", "Do not use parameterized stored procedures", "Allow all users to write to logs", "Use API calls to log actions", "Encrypt log files with AES-256"], correctIndex: 0, optionExplanations: ["✅ CORRECT: Sanitizing prevents malicious injection.", "❌ WRONG: For SQL injection, not log injection.", "❌ WRONG: Would CREATE vulnerability.", "❌ WRONG: Logging method, not security defense.", "❌ WRONG: Encryption protects stored logs, doesn't prevent injection."] },
          { id: 102, category: "XSS", difficulty: "Easy", question: "An attacker exploits XSS. What can they do?", options: ["Access the user's data", "Execute shell commands", "Discover other users' credentials", "Access server files", "Modify database records directly"], correctIndex: 0, optionExplanations: ["✅ CORRECT: XSS runs in browser, accessing client-side data.", "❌ WRONG: XSS is client-side, can't execute server commands.", "❌ WRONG: XSS targets one user, not credential database.", "❌ WRONG: XSS runs in browser, can't access server files.", "❌ WRONG: XSS can't directly access server-side database."] },
          { id: 103, category: "Code Injection", difficulty: "Easy", question: "Which Python function is prone to code injection?", options: ["eval()", "type()", "print()", "append()", "compile()"], correctIndex: 0, optionExplanations: ["✅ CORRECT: eval() executes strings as code.", "❌ WRONG: type() only returns object type.", "❌ WRONG: print() outputs text, doesn't execute.", "❌ WRONG: append() adds to lists, doesn't execute.", "❌ WRONG: compile() creates code objects but needs exec() to run them."] },
          { id: 104, category: "Defensive Coding", difficulty: "Easy", question: "What are two common defensive coding techniques?", options: ["Check preconditions and postconditions", "Encrypt passwords and emails", "Adjust message length/encoding", "Use exceptions to find errors", "Implement rate limiting and throttling"], correctIndex: 0, optionExplanations: ["✅ CORRECT: Preconditions validate inputs, postconditions verify outputs.", "❌ WRONG: Encryption is security practice, not defensive coding.", "❌ WRONG: Message formatting isn't defensive coding.", "❌ WRONG: That's debugging, not defensive coding.", "❌ WRONG: Rate limiting is security control, not defensive coding technique."] },
          { id: 105, category: "Testing", difficulty: "Easy", question: "Which package is for Python's internal regression testing?", options: ["test", "regress test", "doctest", "assert", "pytest"], correctIndex: 0, optionExplanations: ["✅ CORRECT: 'test' package is Python's internal test suite.", "❌ WRONG: 'regress test' doesn't exist.", "❌ WRONG: 'doctest' tests docstring examples.", "❌ WRONG: 'assert' is a statement, not a package.", "❌ WRONG: 'pytest' is third-party framework, not Python's internal package."] },
          { id: 106, category: "Validation", difficulty: "Medium", question: "Which type of input validation does this code show?\n\nisValidNumber = False\nwhile not isValidNumber:\n  try:\n    pickedNumber = int(input('Pick 1-10'))\n    if pickedNumber >= 1 and pickedNumber <= 10:\n      isValidNumber = True\n  except:\n    print('Enter valid number')", options: ["Type and range check", "Type and length check", "Length and range check", "Invalid number check", "Format and pattern validation"], correctIndex: 0, optionExplanations: ["✅ CORRECT: int() is type check, >= 1 and <= 10 is range check.", "❌ WRONG: No length checking, only type and range.", "❌ WRONG: No length checking here.", "❌ WRONG: Too vague, specifically type and range.", "❌ WRONG: No regex or pattern matching used."] },
          { id: 107, category: "Security Testing", difficulty: "Medium", question: "This code checks for HSTS headers. Which vulnerability is being tested?\n\nimport requests\nfor url in urls:\n  req = requests.get(url)\n  try:\n    transport_security = req.headers['Strict-Transport-Security']\n  except:\n    print('HSTS header not set')", options: ["Man-in-the-middle", "Cross-site scripting", "Denial of service", "Code injection", "Buffer overflow"], correctIndex: 0, optionExplanations: ["✅ CORRECT: HSTS prevents man-in-the-middle by enforcing HTTPS.", "❌ WRONG: XSS is script injection, not transport security.", "❌ WRONG: DoS overwhelms servers, HSTS is about encryption.", "❌ WRONG: Code injection is executing malicious code.", "❌ WRONG: Buffer overflow is memory issue, not transport layer security."] },
          { id: 108, category: "Access Control", difficulty: "Easy", question: "Attacker took over multiple accounts. What vulnerability?", options: ["Broken access control", "Function level auth", "API mass assignment", "Privilege escalation", "Insecure direct object reference"], correctIndex: 0, optionExplanations: ["✅ CORRECT: Broken access control allows unauthorized account access.", "❌ WRONG: Function level is role-based restrictions.", "❌ WRONG: Mass assignment is property manipulation.", "❌ WRONG: Privilege escalation is gaining higher privileges.", "❌ WRONG: IDOR is accessing specific objects, not taking over accounts."] },
          { id: 109, category: "API Security", difficulty: "Medium", question: "Best way to protect API with IsAdmin field?", options: ["Resource and field-level access control", "Rate limiting", "Remove IsAdmin field", "Encrypt requests", "Implement input sanitization"], correctIndex: 0, optionExplanations: ["✅ CORRECT: Field-level control restricts who can modify IsAdmin.", "❌ WRONG: Rate limiting prevents DoS, not privilege escalation.", "❌ WRONG: Removing field prevents legitimate admin creation.", "❌ WRONG: Encryption protects transit, not field access.", "❌ WRONG: Sanitization prevents injection, not field manipulation."] },
          { id: 110, category: "SQL Injection", difficulty: "Easy", question: "Which method is used for SQL injection?", options: ["Exploiting query parameters", "Safe query parameters", "SQL composition", "Literal parameters", "Prepared statements"], correctIndex: 0, optionExplanations: ["✅ CORRECT: Attackers inject SQL through unsanitized parameters.", "❌ WRONG: Safe parameters PREVENT injection.", "❌ WRONG: Composition is general term.", "❌ WRONG: Literals are hardcoded, not user input.", "❌ WRONG: Prepared statements PREVENT injection, not used for it."] },
          { id: 111, category: "CORS", difficulty: "Hard", question: "What does CORS allow users to do?", options: ["Override same origin policy for specific resources", "Connect web security models", "Prevent passing credentials", "Protect client header from exposure", "Block all cross-domain requests"], correctIndex: 0, optionExplanations: ["✅ CORRECT: CORS creates controlled exceptions to same-origin policy.", "❌ WRONG: Vague and meaningless phrase.", "❌ WRONG: CORS can ALLOW credentials with proper headers.", "❌ WRONG: CORS exposes headers, doesn't protect them.", "❌ WRONG: CORS enables cross-domain requests, doesn't block them."] },
          { id: 112, category: "Authentication", difficulty: "Hard", question: "Which protocol caches tokens after acquisition?", options: ["MSAL", "Auth0", "LDAP", "ACL", "JWT"], correctIndex: 0, optionExplanations: ["✅ CORRECT: MSAL automatically caches tokens for performance.", "❌ WRONG: Auth0 is a service, not a protocol with built-in caching.", "❌ WRONG: LDAP uses bind operations, not tokens.", "❌ WRONG: ACL defines permissions, doesn't deal with tokens.", "❌ WRONG: JWT is a token format, not a caching protocol."] },
          { id: 113, category: "HTTP Status", difficulty: "Medium", question: "import requests\nurl = 'https://website.com/'\nresult = requests.get(url)\n\nWhich status code will the server return?", options: ["403", "200", "401", "400", "502"], correctIndex: 0, optionExplanations: ["✅ CORRECT: 403 Forbidden - no auth headers sent, access denied.", "❌ WRONG: 200 OK means success with access granted.", "❌ WRONG: 401 means auth required but missing/invalid.", "❌ WRONG: 400 means malformed request syntax.", "❌ WRONG: 502 Bad Gateway is a server-side error, not auth issue."] },
          { id: 114, category: "HTTP Status", difficulty: "Easy", question: "url = 'https://api.github.com/invalid'\nrequest_response = requests.get(url)\nrequest_response.raise_for_status()\n\nWhich response code?", options: ["404 - Not found", "200 - OK", "400 - Bad request", "401 - Unauthorized", "500 - Internal Server Error"], correctIndex: 0, optionExplanations: ["✅ CORRECT: 404 - '/invalid' endpoint doesn't exist.", "❌ WRONG: 200 OK means resource found successfully.", "❌ WRONG: 400 means malformed syntax, not missing resource.", "❌ WRONG: 401 means auth required, not missing endpoint.", "❌ WRONG: 500 is server error, not missing endpoint."] },
          { id: 115, category: "HTTP Response", difficulty: "Easy", question: "Which response method returns information about the server's response to console?", options: ["response.content", "response.history", "response.status_code", "response.get", "response.headers"], correctIndex: 0, optionExplanations: ["✅ CORRECT: response.content returns raw response body as bytes.", "❌ WRONG: response.history contains redirect responses.", "❌ WRONG: response.status_code returns only the numeric code.", "❌ WRONG: response.get doesn't exist, requests.get() sends requests.", "❌ WRONG: response.headers returns dict of headers, not full response body."] },
          { id: 116, category: "Assertions", difficulty: "Medium", question: "def authorizeAdmin(usr):\n  assert isinstance(usr, list) and usr != [], 'No user found'\n  assert 'admin' in usr, 'No admin found.'\n  print('You are granted full access')\n\nauthorizeAdmin(['user'])\n\nWhat is the response?", options: ["AssertionError: No admin found", "AssertionError: No user found", "Authorized User", "You are granted full access", "TypeError: expected list"], correctIndex: 0, optionExplanations: ["✅ CORRECT: First assert passes, second fails - 'admin' not in ['user'].", "❌ WRONG: First assert passes (IS a list, NOT empty).", "❌ WRONG: This string doesn't appear in the code.", "❌ WRONG: Only prints if BOTH assertions pass.", "❌ WRONG: No TypeError - input IS a list."] },
          { id: 117, category: "Status Codes", difficulty: "Easy", question: "What does HTTP status code 200 mean?", options: ["OK - Your request was successful", "Created - Resource was created", "Bad Request - Request is wrong", "Not Found - Resource doesn't exist", "Accepted - Processing request"], correctIndex: 0, optionExplanations: ["✅ CORRECT: 200 OK is standard success response.", "❌ WRONG: 'Resource created' is 201 Created.", "❌ WRONG: 'Bad Request' is 400.", "❌ WRONG: 'Resource doesn't exist' is 404.", "❌ WRONG: 'Accepted' is 202, not 200."] },
          { id: 118, category: "Status Codes", difficulty: "Easy", question: "What does HTTP status code 401 mean?", options: ["Unauthorized - Requires additional permissions", "Forbidden - Server refuses", "Bad Request - Malformed", "Not Found - Resource doesn't exist", "Temporary Redirect"], correctIndex: 0, optionExplanations: ["✅ CORRECT: 401 means authentication needed (missing/invalid credentials).", "❌ WRONG: 'Server refuses' is 403 Forbidden.", "❌ WRONG: 'Malformed request' is 400.", "❌ WRONG: 'Resource doesn't exist' is 404.", "❌ WRONG: 'Temporary Redirect' is 307, not related to auth."] },
          { id: 119, category: "Status Codes", difficulty: "Easy", question: "What does HTTP status code 403 mean?", options: ["Forbidden - Server refuses to authorize", "Unauthorized - Requires authentication", "Bad Request - Malformed", "Not Found - Resource doesn't exist", "Gateway Timeout"], correctIndex: 0, optionExplanations: ["✅ CORRECT: 403 means authenticated but lacking permissions.", "❌ WRONG: 'Requires authentication' is 401.", "❌ WRONG: 'Malformed request' is 400.", "❌ WRONG: 'Resource doesn't exist' is 404.", "❌ WRONG: 'Gateway Timeout' is 504, not related to permissions."] },
          { id: 120, category: "Status Codes", difficulty: "Easy", question: "What does HTTP status code 404 mean?", options: ["Not Found - Resource doesn't exist", "Forbidden - Server refuses", "Bad Request - Malformed", "Internal Server Error", "Method Not Allowed"], correctIndex: 0, optionExplanations: ["✅ CORRECT: 404 means URL/resource doesn't exist.", "❌ WRONG: 'Server refuses' is 403.", "❌ WRONG: 'Malformed request' is 400.", "❌ WRONG: 'Internal Server Error' is 500.", "❌ WRONG: 'Method Not Allowed' is 405, not missing resource."] },
          { id: 121, category: "Attack Identification", difficulty: "Medium", question: "This code allows users to update any field. What attack is this?\n\nclass User:\n  def update(self, data):\n    for key, value in data.items():\n      setattr(self, key, value)", options: ["API Mass Assignment", "SQL Injection", "XSS", "Code Injection", "CSRF Attack"], correctIndex: 0, optionExplanations: ["✅ CORRECT: Mass assignment allows updating any field without validation.", "❌ WRONG: SQL injection targets database queries.", "❌ WRONG: XSS injects scripts into web pages.", "❌ WRONG: Code injection executes malicious code.", "❌ WRONG: CSRF forces authenticated users to perform unwanted actions."] },
          { id: 122, category: "Attack Identification", difficulty: "Easy", question: "This code executes user input as Python code. What attack?\n\nuser_input = input('Enter command:')\neval(user_input)", options: ["Code Injection", "SQL Injection", "XSS", "Broken Access Control", "Path Traversal"], correctIndex: 0, optionExplanations: ["✅ CORRECT: eval() executes user input as code - code injection.", "❌ WRONG: SQL injection targets database queries.", "❌ WRONG: XSS injects scripts into web pages.", "❌ WRONG: Broken access control is about permissions.", "❌ WRONG: Path traversal accesses files, not executes code."] },
          { id: 123, category: "Variable Variations", difficulty: "Medium", question: "In the OA, instead of 'x' and 'y', you might see 'z' and 'w'. What should you do?", options: ["Use the new variable names in your answer", "Ignore the new names and use x,y", "Ask the proctor for clarification", "Skip the question", "Convert all variables to x and y first"], correctIndex: 0, optionExplanations: ["✅ CORRECT: Always use the exact variable names given in the problem.", "❌ WRONG: The test changes variable names to test understanding.", "❌ WRONG: Proctors can't help with content questions.", "❌ WRONG: Don't skip - adapt to the given variables.", "❌ WRONG: Use the given variables as-is, don't convert."] },
          { id: 124, category: "Exception Messages", difficulty: "Medium", question: "For deserialization, what exception message should you use?", options: ["'New key does not match old key'", "'Invalid data format'", "'Deserialization failed'", "'Key mismatch error'", "'Unable to deserialize object'"], correctIndex: 0, optionExplanations: ["✅ CORRECT: This is the exact message from the Reddit guide.", "❌ WRONG: Too generic, not the specific message.", "❌ WRONG: Too generic, not the specific message.", "❌ WRONG: Close but not the exact wording.", "❌ WRONG: Too generic, not the specific message from guide."] }
        ];

        // Pre-Assessment detailed explanations mapping by answer option
        // ALL CONTENT EXTRACTED DIRECTLY FROM PRE-ASSESSMENT FILES
        const PRE_ASSESSMENT_EXPLANATIONS = {
          // Quiz question 101 - Log Injection (from 02-EvaluatesApplicationNetworkLogs.md)
          "q101_0": {
            title: "Sanitize outbound log messages (CORRECT)",
            content: "The primary defense against log injection attacks is to **sanitize outbound log messages**. Log injection is a type of security vulnerability where an attacker manipulates log messages to inject malicious code or exploit system vulnerabilities. By sanitizing outbound log messages, you ensure that any user-supplied input or potentially dangerous characters are properly escaped or removed before being included in the log.\n\nSanitizing log messages involves applying input validation and output encoding techniques to prevent the injection of malicious content. It typically involves validating the input data, such as user inputs, and sanitizing or encoding it appropriately to ensure it does not contain any harmful characters or constructs.\n\nSome common techniques for sanitizing log messages include:\n\n- **Input validation**: Validate and restrict user input to ensure it conforms to expected formats and does not contain any unauthorized or dangerous characters.\n\n- **Output encoding**: Encode the log messages in a way that prevents the interpretation of special characters or malicious constructs. For example, you can use HTML entity encoding, URL encoding, or database-specific encoding techniques, depending on the log storage and processing mechanisms.\n\nBy properly sanitizing outbound log messages, you can minimize the risk of log injection attacks and ensure that the logs remain a reliable and secure source of information for monitoring and analysis purposes."
          },
          "q101_1": {
            title: "Do not use parameterized stored procedures (WRONG)",
            content: "\"Do not use parameterized stored procedures in the database\" is not a specific defense against log injection attacks. However, using parameterized queries or stored procedures can help protect against SQL injection attacks, which are a different type of security vulnerability."
          },
          "q101_2": {
            title: "Allow all users to write to logs (WRONG)",
            content: "\"Allow all users to write to these logs\" is not a recommended approach as it can lead to unauthorized or malicious log entries, making the logs less trustworthy and potentially susceptible to manipulation."
          },
          "q101_3": {
            title: "Use API calls to log actions (WRONG)",
            content: "\"Use API calls to log actions\" is a good practice for logging actions but does not directly address log injection attacks. It focuses on the method of logging rather than the specific defense against log injection vulnerabilities."
          },
          "q101_4": {
            title: "Encrypt log files with AES-256 (WRONG)",
            content: "While encrypting log files with AES-256 is good for protecting stored logs from unauthorized access, it does NOT prevent log injection attacks. Encryption protects logs **after** they're written, but log injection happens **during** the writing process. An attacker can still inject malicious content into logs before encryption occurs. Sanitization must happen first to prevent injection."
          },
          // Quiz question 102 - XSS (from 04-Cross-Site-Scripting.md)
          "q102_0": {
            title: "Access the user's data (CORRECT)",
            content: "With a successful cross-site scripting attack, the attacker can gain unauthorized access to the user's data, including personal information, login credentials, cookies, and any other sensitive information that the user has on the affected website. Cross-site scripting is a type of security flaw in web applications where an attacker can inject malicious scripts into web pages that are viewed by other users. These scripts are then executed by the users' web browsers, allowing the attacker to perform various actions on behalf of the victim."
          },
          "q102_1": {
            title: "Execute shell commands (WRONG)",
            content: "This option is not directly related to cross-site scripting. Executing shell commands or scripts typically involves other types of security vulnerabilities like command injection or remote code execution."
          },
          "q102_2": {
            title: "Discover other users' credentials (WRONG)",
            content: "While cross-site scripting can potentially allow an attacker to access other users' credentials if they are stored on the same vulnerable website, it's not the primary purpose of XSS attacks. The primary goal is to target individual users and steal their data."
          },
          "q102_3": {
            title: "Access server files (WRONG)",
            content: "This option is not directly related to cross-site scripting. Accessing sensitive files on the server would typically require a different type of vulnerability, such as directory traversal or server misconfigurations."
          },
          "q102_4": {
            title: "Modify database records directly (WRONG)",
            content: "XSS (Cross-Site Scripting) is a **client-side** attack that executes in the victim's browser. It cannot directly access or modify server-side databases. While XSS can steal session tokens that might later be used for unauthorized database operations, the XSS attack itself runs in the browser sandbox and cannot directly interact with the server's database. For direct database modification, you'd need SQL injection, not XSS."
          },
          // Quiz question 103 - Code Injection (from 05-CodeInjectionAttack.md)
          "q103_0": {
            title: "eval() (CORRECT)",
            content: "The eval() function in Python is prone to code injection attacks because it takes a string as input and interprets it as Python code. In other words, it allows dynamic execution of arbitrary Python expressions. If untrusted data from a user or an external source is passed to eval() without proper validation, an attacker can inject malicious Python code that gets executed, leading to serious security risks.\n\nA code injection attack is a type of security vulnerability where an attacker can insert and execute malicious code into a program or application. This can happen when user-supplied data is not properly validated or sanitized before being executed by the program. If an attacker can manipulate data that gets executed as code, they can potentially take control of the application, access sensitive information, or perform unauthorized actions.\n\nAs a general security best practice, it's important to avoid using eval() with untrusted data to prevent code injection vulnerabilities."
          },
          "q103_1": {
            title: "type() (WRONG)",
            content: "The type() function in Python is not directly related to code injection attacks. It is used to determine the type of an object, such as whether it's a list, dictionary, integer, etc."
          },
          "q103_2": {
            title: "print() (WRONG)",
            content: "The print() function in Python is not prone to code injection attacks. It is used to display output on the console or in files and does not execute arbitrary code."
          },
          "q103_3": {
            title: "append() (WRONG)",
            content: "The append() function is a list method in Python used to add elements to the end of a list. It is not related to code injection vulnerabilities as it deals with manipulating list data."
          },
          "q103_4": {
            title: "compile() (WRONG)",
            content: "While `compile()` creates bytecode from a string of Python code, it does NOT execute it. The compile() function only converts source code into a code object - you'd still need `exec()` to actually run it. So compile() alone isn't prone to code injection. However, `eval()` both compiles AND executes in one step, making it the more dangerous function for code injection attacks."
          },
          // Quiz question 104 - Defensive Coding (from 06-DefensiveCoding.md)
          "q104_0": {
            title: "Check preconditions and postconditions (CORRECT)",
            content: "Functional preconditions and postconditions are common defensive coding techniques used to ensure the correctness and robustness of software.\n\n**Preconditions**: Functional preconditions are checks that are performed at the beginning of a function or method to verify that the input data or the environment's state is valid and meets the expected criteria. By checking preconditions, developers can ensure that the function can safely proceed with its execution and prevent potential issues or errors that might arise due to invalid data.\n\n**Postconditions**: Functional postconditions are checks performed at the end of a function or method to ensure that the expected outcomes or results have been achieved. Postconditions help validate that the function has executed correctly and produced the intended results. They also aid in identifying any unexpected behaviors or issues that might have occurred during the execution.\n\nBy implementing these checks in the code, developers can significantly reduce the likelihood of errors, crashes, and security vulnerabilities. By catching potential issues early on and providing meaningful feedback to users or other parts of the system, functional preconditions and postconditions contribute to the overall stability and reliability of the software."
          },
          "q104_1": {
            title: "Encrypt passwords and emails (WRONG)",
            content: "While encrypting passwords and sensitive data is an essential security practice, it is not specifically related to \"defensive coding techniques.\" Defensive coding primarily involves writing code in a way that reduces the likelihood of bugs, vulnerabilities, and unexpected behaviors."
          },
          "q104_2": {
            title: "Adjust message length/encoding (WRONG)",
            content: "This option seems to refer to data validation and handling, which can be part of defensive coding. However, it is more specific to data sanitization and security practices rather than general \"defensive coding techniques\" mentioned in the question."
          },
          "q104_3": {
            title: "Use exceptions to find errors (WRONG)",
            content: "While using exceptions in code is a useful approach to handling unexpected situations and error scenarios, it is not a primary technique for \"finding errors\" in the code. Defensive coding focuses on preventing errors from occurring in the first place or handling them gracefully when they do happen."
          },
          "q104_4": {
            title: "Implement rate limiting and throttling (WRONG)",
            content: "Rate limiting and throttling are **security controls**, not defensive coding techniques. Defensive coding refers to programming practices that make code more robust and error-resistant (like input validation, assertions, and pre/postconditions). Rate limiting is an infrastructure/architectural security measure to prevent abuse, not a code-level defensive technique. While both improve security, they operate at different layers."
          },
          // Quiz question 105 - Testing (from 08-RegressionTesting.md)
          "q105_0": {
            title: "test (CORRECT)",
            content: "In Python, the **\"test\" package** is meant for internal use by the Python interpreter for regression testing. Regression testing is the process of verifying that changes to the codebase do not unintentionally introduce new bugs or regressions. This is important for maintaining the stability and reliability of the Python language itself.\n\nThe **\"test\" package** contains a set of test cases and tools used for testing various aspects of the Python interpreter and the standard library. These tests ensure that the language and its standard library functions work as expected and continue to function correctly as changes are made to the codebase.\n\nPython uses an extensive test suite, which includes unit tests, integration tests, and more, to continuously check and validate the behavior of the language. These tests are run during the development process to catch bugs early and ensure that new changes do not break existing functionality."
          },
          "q105_1": {
            title: "regress test (WRONG)",
            content: "There is no standard Python package or module named \"regress test.\" It seems like a combination of \"regression testing,\" which is a general concept, and \"test\" package in Python."
          },
          "q105_2": {
            title: "doctest (WRONG)",
            content: "The `doctest` module is a part of Python's standard library, but it is not specifically meant for internal use by the Python interpreter. Instead, `doctest` is used for writing tests directly in the docstrings of Python functions, classes, and modules. These docstring tests serve as both documentation and test cases to verify that code examples in the documentation work as intended."
          },
          "q105_3": {
            title: "assert (WRONG)",
            content: "The `assert` statement is a core Python feature used for debugging and testing purposes, but it is not a package. It allows you to test if a given condition is `True` and raises an `AssertionError` if the condition is `False`, indicating that an assumption in the code does not hold."
          },
          "q105_4": {
            title: "pytest (WRONG)",
            content: "While `pytest` is a powerful and popular testing framework, it's a **third-party** package that must be installed separately (pip install pytest). The question asks for Python's **internal** regression testing package that comes built-in with the Python interpreter. That's the `test` package, which Python core developers use to test the language itself, not pytest which is for application testing."
          },
          // Quiz question 106 - Validation (from 15-InputValidation.md)
          "q106_0": {
            title: "Type and range check (CORRECT)",
            content: "This code snippet performs a type check by converting the input to an integer (int(input(...))), ensuring it's a valid integer. Additionally, it performs a range check by verifying that the picked number is within the specified range of 1 to 10. The code also handles invalid inputs by catching exceptions.\n\nThe primary focus of the validation in this code is on checking both the type (integer) and the range (1 to 10) of the input."
          },
          "q106_1": {
            title: "Type and length check (WRONG)",
            content: "This is not a length check because the code converts input to integer and validates numeric range, not string length. Length checks use len() function to validate character count, which this code doesn't do."
          },
          "q106_2": {
            title: "Length and range check (WRONG)",
            content: "This is not a length check because the code converts input to integer and validates numeric range, not string length. Length checks use len() function to validate character count, which this code doesn't do."
          },
          "q106_3": {
            title: "Invalid number check (WRONG)",
            content: "This describes what the code prevents, not what it does. The code performs type and range validation, not just checking for invalid numbers."
          },
          "q106_4": {
            title: "Format and pattern validation (WRONG)",
            content: "Format and pattern validation typically uses **regular expressions (regex)** to check if input matches specific patterns like email addresses (name@domain.com) or phone numbers (###-###-####). This code doesn't use regex or check for formatting patterns - it simply converts to `int()` and checks numeric range. Pattern validation would use `re.match()` or similar, which this code doesn't."
          },
          // Quiz question 107 - Security Testing (from 16-PenetrationTest.md)
          "q107_0": {
            title: "Man-in-the-middle (CORRECT)",
            content: "The provided code is checking for the presence of the \"Strict-Transport-Security\" (HSTS) header in the HTTP response from the websites listed in the \"websites.txt\" file. HSTS is a security feature that helps protect websites against man-in-the-middle attacks by ensuring that communication between the browser and the web server occurs over a secure HTTPS connection.\n\nThe code attempts to retrieve the HSTS header from the HTTP response headers. If the header is not set properly (indicating that HSTS is not being enforced), it prints a message indicating the vulnerability. A man-in-the-middle (MITM) attack is a type of attack where an attacker intercepts communication between two parties, and without proper HSTS implementation, an attacker could potentially perform a MITM attack by downgrading the connection from HTTPS to HTTP, leaving the user vulnerable to various security threats.\n\nTherefore, the code is checking for the vulnerability related to man-in-the-middle attacks."
          },
          "q107_1": {
            title: "Cross-site scripting (WRONG)",
            content: "Cross-site scripting (XSS) is a different type of vulnerability that involves injecting malicious scripts into web pages, not checking for HSTS headers or transport security."
          },
          "q107_2": {
            title: "Denial of service (WRONG)",
            content: "Denial of service attacks overwhelm servers with traffic, not related to checking HSTS headers or transport security mechanisms."
          },
          "q107_3": {
            title: "Code injection (WRONG)",
            content: "Code injection involves executing malicious code, not checking for security headers like HSTS in HTTP responses."
          },
          "q107_4": {
            title: "Buffer overflow (WRONG)",
            content: "Buffer overflow is a **memory corruption** vulnerability that occurs when a program writes more data to a buffer than it can hold, potentially overwriting adjacent memory. This is completely unrelated to HSTS headers or transport layer security. HSTS operates at the HTTP protocol level to enforce encrypted connections, while buffer overflows are low-level memory issues in compiled code (like C/C++). Python doesn't even have traditional buffer overflow vulnerabilities due to automatic memory management."
          },
          // Quiz question 109 - API Security (from 21-PrivilegeEscalationAPI.md)
          "q109_0": {
            title: "Resource and field-level access control (CORRECT)",
            content: "The best way to ensure the API is protected against privilege escalation in this scenario is to implement resource and field-level access control. This means controlling which resources (endpoints) users have access to and which fields within those resources they can modify.\n\nBy implementing access control, you can define roles and permissions for users. This ensures that only authorized users, such as administrators, can access the endpoint to create new users, and you can restrict who can set the IsAdmin field to True. This prevents regular users from escalating their privileges by setting themselves as administrators."
          },
          "q109_1": {
            title: "Rate limiting (WRONG)",
            content: "Ensuring incoming requests are rate limited helps protect against denial of service attacks, but it doesn't directly address privilege escalation."
          },
          "q109_2": {
            title: "Remove IsAdmin from endpoint (WRONG)",
            content: "Removing IsAdmin from the endpoint is not a complete solution because it doesn't handle the cases where an administrator legitimately needs to set this field. It's essential to control access to this field instead of removing it entirely."
          },
          "q109_3": {
            title: "Encrypt incoming request (WRONG)",
            content: "Encrypting the incoming request is a good security practice to protect data in transit, but it doesn't directly prevent privilege escalation. It ensures that the data being sent is secure but doesn't control who has the privilege to set specific fields."
          },
          // Quiz question 110 - SQL Injection (from 22-SQL-Injection.md)
          "q110_0": {
            title: "Exploiting query parameters (CORRECT)",
            content: "A SQL injection attack occurs when an attacker maliciously injects SQL (Structured Query Language) code into a vulnerable SQL query, manipulating the query's behavior and potentially gaining unauthorized access to the database or altering its contents. Exploiting query parameters is a common method used in SQL injection attacks.\n\nWhen the input from query parameters is not properly sanitized or validated, attackers can inject SQL commands as input, causing unexpected and often dangerous actions to occur in the database. This can lead to data leakage, unauthorized access, data modification, and other security vulnerabilities.\n\nIt's crucial to properly validate and sanitize user input when constructing SQL queries to prevent SQL injection attacks. Parameterized queries or prepared statements are common techniques used to mitigate SQL injection risks by separating user input from the query structure, making it much more difficult for attackers to inject malicious SQL code."
          },
          "q110_1": {
            title: "Safe query parameters (WRONG)",
            content: "Passing safe query parameters is a good practice to prevent SQL injection by properly handling and sanitizing user input, but it's not the method used for an actual SQL injection attack."
          },
          "q110_2": {
            title: "SQL composition (WRONG)",
            content: "Using SQL composition, while it may sound related, is not a specific method used to describe an SQL injection attack. It's important to avoid dynamically composing SQL queries with untrusted user input."
          },
          "q110_3": {
            title: "Literal parameters (WRONG)",
            content: "Utilizing literal parameters doesn't directly relate to SQL injection attacks. In SQL, literal parameters are used to represent constant values directly in a query. The issue in SQL injection is not with literal parameters but with improperly handled dynamic input that can be manipulated by attackers."
          },
          // Quiz question 111 - CORS (from 27-Cross-Origin-Sharing.md)
          "q111_0": {
            title: "Override same origin policy for specific resources (CORRECT)",
            content: "Cross-Origin Resource Sharing (CORS) is a web security feature that allows web pages from one domain to make requests for resources (such as scripts, stylesheets, and data) from a different domain. This capability, provided by CORS, allows certain resources to bypass the same-origin policy, which restricts web pages from making requests to a different domain for security reasons.\n\nThe same-origin policy prevents web pages from making requests to domains other than the one from which the web page originated, to mitigate potential security risks. However, there are valid scenarios where a web page hosted on one domain needs to request resources from a different domain (cross-origin requests), such as loading data from a third-party API.\n\nCORS allows users to override the same-origin policy for specific resources by defining rules on the server-side to specify which domains are allowed to access the resources. This helps protect against unauthorized access while still enabling legitimate cross-origin requests."
          },
          "q111_1": {
            title: "Connect web security models (WRONG)",
            content: "This option does not accurately describe the purpose of CORS. CORS is a security feature that deals specifically with cross-origin requests and does not directly connect web security models."
          },
          "q111_2": {
            title: "Prevent passing credentials (WRONG)",
            content: "CORS does not primarily prevent the passing of credentials. Instead, it can control how credentials (such as cookies and HTTP authentication) are included in cross-origin requests."
          },
          "q111_3": {
            title: "Protect client header from exposure (WRONG)",
            content: "This option does not accurately describe the purpose of CORS. CORS is focused on controlling cross-origin requests, not specifically protecting client headers from exposure."
          },
          // Quiz question 112 - Authentication (from 28-Protocol-Tokens.md)
          "q112_0": {
            title: "MSAL (CORRECT)",
            content: "The MSAL (Microsoft Authentication Library) is designed to handle authentication and authorization scenarios, primarily for Microsoft services and applications. It supports acquiring tokens for various Microsoft APIs, such as Microsoft Graph, Azure AD, and more.\n\nOne of the key features of MSAL is its ability to cache tokens after they have been acquired. This caching mechanism helps improve performance and reduce the need to reauthenticate for subsequent requests. Caching tokens allows applications to use the token without going through the full authentication process every time, as long as the token is still valid."
          },
          "q112_1": {
            title: "Auth0 (WRONG)",
            content: "Auth0 is a popular identity management platform that supports authentication and authorization for various applications and services. While Auth0 provides token-based authentication, the specific behavior of token caching may depend on the configuration and usage within the application, and it's not universally tied to Auth0 as a core feature."
          },
          "q112_2": {
            title: "LDAP (WRONG)",
            content: "LDAP (Lightweight Directory Access Protocol) is a protocol used for accessing and managing directory information services, such as user authentication and directory services. It is not primarily focused on token-based authentication or caching tokens."
          },
          "q112_3": {
            title: "ACL (WRONG)",
            content: "ACL (Access Control List) is a method used for defining permissions and access control for resources. It is a concept related to managing access to resources, but it does not specifically involve token caching."
          },
          "q112_4": {
            title: "JWT (WRONG)",
            content: "JWT (JSON Web Token) is a **token format/standard**, not a protocol or library that performs caching. JWT is just the structure of the token itself (header.payload.signature). While applications can cache JWTs, the JWT specification itself doesn't handle caching - that's the responsibility of authentication libraries like MSAL. Think of it this way: JWT is the format of the data, MSAL is the tool that manages and caches that data."
          },
          // Quiz question 113 - HTTP Status (from 29-GET-API.md)
          "q113_0": {
            title: "403 (CORRECT)",
            content: "HTTP status code 403 means 'Forbidden'. This status code is returned by the server when the request is understood, but the server refuses to authorize it. This could be due to insufficient permissions or other access restrictions. If the server returns a 403 status code, it indicates that the client (your code) does not have the necessary permissions to access the resource at the given URL.\n\nGiven the code snippet provided and assuming that the URL 'https://website.com/' corresponds to a resource that the client (your code) does not have permission to access, the correct status code is 403 (FORBIDDEN)."
          },
          "q113_1": {
            title: "200 (WRONG)",
            content: "HTTP status code 200 means 'OK'. This status code is returned when the request has been successfully processed by the server, and the server is returning the expected content. This would indicate that the request was successful without any access issues."
          },
          "q113_2": {
            title: "401 (WRONG)",
            content: "HTTP status code 401 means 'Unauthorized'. This status code is typically used when the client (your code) needs to provide authentication credentials, such as a username and password, to access the resource. If the server returns a 401 status code, it means that the client's request lacks valid authentication credentials."
          },
          "q113_3": {
            title: "400 (WRONG)",
            content: "HTTP status code 400 means 'Bad Request'. This status code is returned when the server cannot understand the request due to client error, such as malformed syntax or missing required parameters. If the server returns a 400 status code, it means the client's request was improperly formed."
          },
          // Quiz question 114 - HTTP Status (from 30-URL-Checker.md)
          "q114_0": {
            title: "404 - Not found (CORRECT)",
            content: "In the provided code snippet, the user sends a GET request to the URL 'https://api.github.com/invalid'. This URL suggests that the user is attempting to access a resource that is invalid or not found. The code then uses the requests.get method to send the request and checks if the response was successful using the raise_for_status() method.\n\nThe raise_for_status() method raises an exception if the HTTP status code in the response indicates an error (non-2xx status codes). Since the URL contains the word 'invalid,' it's likely that the server will return a 404 status code, which means 'Not found.' This status code indicates that the requested resource does not exist on the server.\n\nTherefore, the user is most likely to be presented with a 404 response code, indicating that the requested resource could not be found."
          },
          "q114_1": {
            title: "200 - OK (WRONG)",
            content: "This status code indicates that the request was successful. Given that the URL contains 'invalid,' it's unlikely that a 200 status code would be returned."
          },
          "q114_2": {
            title: "400 - Bad request (WRONG)",
            content: "This status code indicates that the request was malformed or could not be understood by the server. The URL itself is not malformed; it simply points to a resource that is likely not found."
          },
          "q114_3": {
            title: "401 - Unauthorized (WRONG)",
            content: "This status code indicates that the request requires authentication, and the user is not authorized to access the resource. While authentication could be a possibility, the more common scenario based on the URL is that the resource is not found, leading to a 404 response."
          },
          // Quiz question 115 - HTTP Response (from 31-ServerResponse.md)
          "q115_0": {
            title: "response.content (CORRECT)",
            content: "The `response.content` method in a HTTP response object (often returned by HTTP client libraries like the `requests` library in Python) returns the raw binary content of the response. This content includes the data sent by the server as a response to the request.\n\nFor receiving information about the server's response and its content in binary form, the correct option is `response.content`."
          },
          "q115_1": {
            title: "response.history (WRONG)",
            content: "This attribute of a response object contains a list of response objects that were generated in handling the redirections. It's particularly useful when a series of redirects are followed, but it doesn't return the main response content."
          },
          "q115_2": {
            title: "response.status_code (WRONG)",
            content: "This attribute of a response object contains the HTTP status code returned by the server. It's used to check whether the request was successful (e.g., 200 for 'OK'), informational, or an error (e.g., 404 for 'Not Found'), but it doesn't return the response content."
          },
          "q115_3": {
            title: "response.get (WRONG)",
            content: "This is not a standard method in the `response` object. The `requests` library in Python does provide a `.get()` method to send a GET request, but it's used on the request side, not on the response side. It's used like `requests.get(url)` to send a GET request to the specified URL."
          },
          "q115_4": {
            title: "response.headers (WRONG)",
            content: "While `response.headers` is a valid attribute that returns a dictionary of HTTP headers from the server's response (like Content-Type, Server, Date, etc.), it does NOT return the actual response body/content. Headers contain metadata **about** the response, but the question asks for a method that returns information about the server's response **to console** - meaning the actual content/data sent back. For that, you need `response.content` (binary) or `response.text` (decoded string), not just the headers."
          },
          // Quiz question 116 - Assertions (from 11-AssertionStatements.py)
          "q116_0": {
            title: "AssertionError: No admin found (CORRECT)",
            content: "The function `authorizeAdmin(usr)` has two assertion statements:\n1. `assert isinstance(usr, list) and usr != [], 'No user found'` - This passes because `['user']` is a list and not empty\n2. `assert 'admin' in usr, 'No admin found.'` - This fails because 'admin' is not in the list `['user']`\n\nWhen the second assertion fails, it raises an `AssertionError` with the message 'No admin found.'"
          },
          "q116_1": {
            title: "AssertionError: No user found (WRONG)",
            content: "This would occur if the first assertion failed, but `['user']` is a valid list and not empty, so the first assertion passes."
          },
          "q116_2": {
            title: "Authorized User (WRONG)",
            content: "This string doesn't appear anywhere in the code. The function only prints 'You are granted full access' if both assertions pass."
          },
          "q116_3": {
            title: "You are granted full access (WRONG)",
            content: "This would only be printed if both assertions pass, but the second assertion fails because 'admin' is not in the list `['user']`."
          },
          // Quiz question 117 - Status Codes (general knowledge)
          "q117_0": {
            title: "OK - Your request was successful (CORRECT)",
            content: "HTTP status code 200 means 'OK' and indicates that the request was successful. This is the standard success response for most HTTP requests."
          },
          "q117_1": {
            title: "Created - Resource was created (WRONG)",
            content: "This describes HTTP status code 201, not 200. Status code 201 is returned when a new resource has been successfully created."
          },
          "q117_2": {
            title: "Bad Request - Request is wrong (WRONG)",
            content: "This describes HTTP status code 400, not 200. Status code 400 indicates that the server cannot understand the request due to malformed syntax."
          },
          "q117_3": {
            title: "Not Found - Resource doesn't exist (WRONG)",
            content: "This describes HTTP status code 404, not 200. Status code 404 indicates that the requested resource could not be found on the server."
          },
          // Quiz question 118 - Status Codes (general knowledge)
          "q118_0": {
            title: "Unauthorized - Requires additional permissions (CORRECT)",
            content: "HTTP status code 401 means 'Unauthorized' and indicates that the request requires authentication. The client must provide valid authentication credentials to access the resource."
          },
          "q118_1": {
            title: "Forbidden - Server refuses (WRONG)",
            content: "This describes HTTP status code 403, not 401. Status code 403 indicates that the server understands the request but refuses to authorize it."
          },
          "q118_2": {
            title: "Bad Request - Malformed (WRONG)",
            content: "This describes HTTP status code 400, not 401. Status code 400 indicates that the server cannot understand the request due to malformed syntax."
          },
          "q118_3": {
            title: "Not Found - Resource doesn't exist (WRONG)",
            content: "This describes HTTP status code 404, not 401. Status code 404 indicates that the requested resource could not be found on the server."
          },
          // Quiz question 119 - Status Codes (general knowledge)
          "q119_0": {
            title: "Forbidden - Server refuses (CORRECT)",
            content: "HTTP status code 403 means 'Forbidden' and indicates that the server understands the request but refuses to authorize it. The client does not have permission to access the resource."
          },
          "q119_1": {
            title: "Unauthorized - Requires authentication (WRONG)",
            content: "This describes HTTP status code 401, not 403. Status code 401 indicates that the request requires authentication."
          },
          "q119_2": {
            title: "Bad Request - Malformed (WRONG)",
            content: "This describes HTTP status code 400, not 403. Status code 400 indicates that the server cannot understand the request due to malformed syntax."
          },
          "q119_3": {
            title: "Not Found - Resource doesn't exist (WRONG)",
            content: "This describes HTTP status code 404, not 403. Status code 404 indicates that the requested resource could not be found on the server."
          },
          // Quiz question 120 - Status Codes (general knowledge)
          "q120_0": {
            title: "Not Found - Resource doesn't exist (CORRECT)",
            content: "HTTP status code 404 means 'Not Found' and indicates that the requested resource could not be found on the server."
          },
          "q120_1": {
            title: "OK - Request successful (WRONG)",
            content: "This describes HTTP status code 200, not 404. Status code 200 indicates that the request was successful."
          },
          "q120_2": {
            title: "Bad Request - Malformed (WRONG)",
            content: "This describes HTTP status code 400, not 404. Status code 400 indicates that the server cannot understand the request due to malformed syntax."
          },
          "q120_3": {
            title: "Unauthorized - Requires authentication (WRONG)",
            content: "This describes HTTP status code 401, not 404. Status code 401 indicates that the request requires authentication."
          },
          // Quiz question 121 - Data Validation Length (from 18-DataValidationLength.py)
          "q121_0": {
            title: "Length check (CORRECT)",
            content: "This code performs a length check by using `len(password) >= 8` to validate that the password is at least 8 characters long. The `len()` function returns the number of characters in the string, and the comparison checks if it meets the minimum length requirement."
          },
          "q121_1": {
            title: "Type check (WRONG)",
            content: "This code doesn't check the data type of the input. It only checks the length of the string, not whether it's a string, integer, or other type."
          },
          "q121_2": {
            title: "Range check (WRONG)",
            content: "This code doesn't check if a numeric value is within a specific range. It checks the length of a string, not a numeric range."
          },
          "q121_3": {
            title: "Format check (WRONG)",
            content: "This code doesn't check the format of the input (like email format, phone number format, etc.). It only checks the length of the string."
          },
          // Quiz question 122 - Data Validation Range (from 19-DataValidationRange.py)
          "q122_0": {
            title: "Range check (CORRECT)",
            content: "This code performs a range check by using `num in r` where `r = range(1,10)` to validate that the input number is within the range of 1 to 10 (inclusive). The `range()` function creates a sequence of numbers, and the `in` operator checks if the input value falls within that range."
          },
          "q122_1": {
            title: "Type check (WRONG)",
            content: "This code doesn't check the data type of the input. It only checks if the numeric value is within a specific range, not the type of the data."
          },
          "q122_2": {
            title: "Length check (WRONG)",
            content: "This code doesn't check the length of a string. It checks if a numeric value is within a specific range, not the length of the input."
          },
          "q122_3": {
            title: "Format check (WRONG)",
            content: "This code doesn't check the format of the input (like email format, phone number format, etc.). It only checks if the numeric value is within a specific range."
          },
          // Quiz question 123 - Data Validation Numeric (from 17-DataValidationNumeric.py)
          "q123_0": {
            title: "Type check (CORRECT)",
            content: "This code performs a type check by using `int(zipCode)` to validate that the input can be converted to an integer. If the conversion fails, it raises a `ValueError` exception, which is caught to handle non-numeric input. The `int()` function attempts to convert the string to an integer, effectively checking if the input is numeric."
          },
          "q123_1": {
            title: "Length check (WRONG)",
            content: "This code doesn't check the length of the input. It only checks if the input can be converted to an integer, not how many characters it contains."
          },
          "q123_2": {
            title: "Range check (WRONG)",
            content: "This code doesn't check if the numeric value is within a specific range. It only checks if the input can be converted to an integer, not if it falls within a particular range of values."
          },
          "q123_3": {
            title: "Format check (WRONG)",
            content: "This code doesn't check the format of the input (like email format, phone number format, etc.). It only checks if the input can be converted to an integer."
          },
          // Quiz question 124 - Data Validation Numeric (from 17-DataValidationNumeric.py)
          "q124_0": {
            title: "Type check (CORRECT)",
            content: "This code performs a type check by using `int(zipCode)` to validate that the input can be converted to an integer. If the conversion fails, it raises a `ValueError` exception, which is caught to handle non-numeric input. The `int()` function attempts to convert the string to an integer, effectively checking if the input is numeric."
          },
          "q124_1": {
            title: "Length check (WRONG)",
            content: "This code doesn't check the length of the input. It only checks if the input can be converted to an integer, not how many characters it contains."
          },
          "q124_2": {
            title: "Range check (WRONG)",
            content: "This code doesn't check if the numeric value is within a specific range. It only checks if the input can be converted to an integer, not if it falls within a particular range of values."
          },
          "q124_3": {
            title: "Format check (WRONG)",
            content: "This code doesn't check the format of the input (like email format, phone number format, etc.). It only checks if the input can be converted to an integer."
          }
        };

        // Shuffle function
        const shuffleArray = (array) => {
          const shuffled = [...array];
          for (let i = shuffled.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
          }
          return shuffled;
        };

        // Shuffle options within quiz questions and update correct index
        const shuffleQuestionOptions = (questions) => {
          return questions.map(q => {
            const correctOption = q.options[q.correctIndex];
            const correctExplanation = q.optionExplanations[q.correctIndex];
            
            // Create array of indices and shuffle them
            const indices = Array.from({ length: q.options.length }, (_, i) => i);
            const shuffledIndices = [];
            for (let i = indices.length - 1; i > 0; i--) {
              const j = Math.floor(Math.random() * (i + 1));
              [indices[i], indices[j]] = [indices[j], indices[i]];
            }
            shuffledIndices.push(...indices);
            
            // Reorder options and explanations based on shuffled indices
            const shuffledOptions = shuffledIndices.map(i => q.options[i]);
            const shuffledExplanations = shuffledIndices.map(i => q.optionExplanations[i]);
            
            // Find new position of correct answer
            const newCorrectIndex = shuffledOptions.indexOf(correctOption);
            
            return {
              ...q,
              options: shuffledOptions,
              optionExplanations: shuffledExplanations,
              correctIndex: newCorrectIndex
            };
          });
        };

        // React hooks
        const { useState, useEffect } = React;

        // React component
        const D385StudyApp = () => {
          const [mode, setMode] = useState('patterns');
          const [currentPattern, setCurrentPattern] = useState(0);
          const [currentQuestion, setCurrentQuestion] = useState(0);
          const [currentFlashcard, setCurrentFlashcard] = useState(0);
          const [userAnswer, setUserAnswer] = useState('');
          const [selectedOption, setSelectedOption] = useState(null);
          const [showAnswer, setShowAnswer] = useState(false);
          const [showHint, setShowHint] = useState(false);
          const [showJSEquiv, setShowJSEquiv] = useState(false);
          const [showMistakes, setShowMistakes] = useState(false);
          const [showOriginal, setShowOriginal] = useState(false);
          const [practiceMode, setPracticeMode] = useState(false);
          const [practiceAnswer, setPracticeAnswer] = useState('');
          const [showStudyTips, setShowStudyTips] = useState(false);
          const [showTimer, setShowTimer] = useState(false);
          const [showMenu, setShowMenu] = useState(false);
          const [showReadme, setShowReadme] = useState(false);
          const [showDetailedExplanation, setShowDetailedExplanation] = useState({});
          const [timeRemaining, setTimeRemaining] = useState(14400); // 4 hours in seconds
          const [timerActive, setTimerActive] = useState(true); // Start timer by default
          const [showQuestionTimer, setShowQuestionTimer] = useState(true); // Show question timer by default
          const [sessionStartTime, setSessionStartTime] = useState(Date.now());
          const [feedback, setFeedback] = useState(null);
          const [timerDisplay, setTimerDisplay] = useState({ timeSpent: "00:00", status: "" });
          const [score, setScore] = useState({ patterns: { correct: 0, total: 0, patternScores: {} }, concepts: { correct: 0, total: 0, questionScores: {}, selectedOptions: {} }, flashcards: { correct: 0, total: 0, cardScores: {} } });
          const [masteredPatterns, setMasteredPatterns] = useState(new Set());
          const [shuffledPatterns, setShuffledPatterns] = useState(() => shuffleArray(PATTERNS));
          const [shuffledQuestions, setShuffledQuestions] = useState(() => shuffleQuestionOptions(shuffleArray(MC_QUESTIONS)));
          const [shuffledFlashcards, setShuffledFlashcards] = useState(() => shuffleArray(FLASHCARDS));

        // Timer effect
        useEffect(() => {
          let interval;
          if (timerActive) {
            interval = setInterval(() => {
              setTimeRemaining(prev => {
                if (prev <= 0) {
                  setTimerActive(false);
                  return 0;
                }
                return prev - 1;
              });
            }, 1000);
          }
          return () => clearInterval(interval);
        }, [timerActive]);

        // Update timer display
        useEffect(() => {
          const timeSpent = Math.floor((Date.now() - sessionStartTime) / 1000);
          const hours = Math.floor(timeSpent / 3600);
          const minutes = Math.floor((timeSpent % 3600) / 60);
          const seconds = timeSpent % 60;
          const timeSpentStr = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}`;
          
          setTimerDisplay(prev => ({ ...prev, timeSpent: timeSpentStr }));
        }, [sessionStartTime, timeRemaining]);

        // Update status calculation with weighted time per question
        // Patterns: 7.7 min, Quiz: 3.5 min, Cards: 1.6 min
        useEffect(() => {
          const getOverallProgress = () => {
            const timeSpentSeconds = Math.floor((Date.now() - sessionStartTime) / 1000);
            
            // Count only CORRECT answers for progress calculation
            const correctPatterns = Object.values(score.patterns.patternScores).filter(s => s === 'correct').length;
            const correctQuiz = Object.values(score.concepts.questionScores).filter(s => s === 'correct').length;
            const correctFlashcards = Object.values(score.flashcards.cardScores).filter(s => s === 'correct').length;
            
            const hasCompleted = correctPatterns + correctQuiz + correctFlashcards > 0;
            
            if (hasCompleted) {
              // Weighted time allocation:
              // Patterns: 7.7 min each (108 min / 14 = 7.714)
              // Quiz: 3.5 min each (84 min / 24 = 3.5)
              // Cards: 1.6 min each (48 min / 30 = 1.6)
              const expectedTimeSpent = 
                (correctPatterns * 7.714 * 60) +  // Patterns
                (correctQuiz * 3.5 * 60) +         // Quiz
                (correctFlashcards * 1.6 * 60);    // Cards
              
              const timeDiff = expectedTimeSpent - timeSpentSeconds;
              const minutesDiff = Math.floor(timeDiff / 60);
              
              if (minutesDiff > 0) {
                return `+${minutesDiff} Min Ahead`;
              } else if (minutesDiff < 0) {
                return `${minutesDiff} Min Behind`;
              } else {
                return "On Track";
              }
            }
            return "";
          };
          
          // Update status immediately
          setTimerDisplay(prev => ({ ...prev, status: getOverallProgress() }));
          
          // Then update every 2 minutes (120 seconds)
          const statusInterval = setInterval(() => {
            setTimerDisplay(prev => ({ ...prev, status: getOverallProgress() }));
          }, 120000); // 120,000 milliseconds = 2 minutes
          
          return () => clearInterval(statusInterval);
        }, [score, sessionStartTime]);

        const formatTime = (seconds) => {
          const hours = Math.floor(seconds / 3600);
          const minutes = Math.floor((seconds % 3600) / 60);
          const secs = seconds % 60;
          return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        };


        const startTimer = () => setTimerActive(true);
        const pauseTimer = () => setTimerActive(false);
        const resetTimer = () => {
          setTimeRemaining(14400);
          setSessionStartTime(Date.now());
          setTimerActive(true);
        };

        const updateStatus = () => {
          // This will be called when questions are completed
        };

        // Get current items
        const pattern = shuffledPatterns[currentPattern];
        const question = shuffledQuestions[currentQuestion];
        const flashcard = shuffledFlashcards[currentFlashcard];

        const checkPattern = () => {
          const isCorrect = userAnswer.toLowerCase().trim() === pattern.answer.toLowerCase().trim();
          const previousScore = score.patterns.patternScores[pattern.id];
          
          // Only update score if: no previous score OR improving from incorrect to correct
          const shouldUpdateScore = !previousScore || (previousScore === 'incorrect' && isCorrect);
          
          if (shouldUpdateScore) {
            setScore(prev => ({ 
              ...prev, 
              patterns: { 
                correct: prev.patterns.correct + (isCorrect ? 1 : 0), 
                total: prev.patterns.total + 1, 
                patternScores: { ...prev.patterns.patternScores, [pattern.id]: isCorrect ? 'correct' : 'incorrect' } 
              } 
            }));
          } else if (previousScore === 'correct') {
            // Already correct - keep it correct, don't update counts
            setScore(prev => ({ 
              ...prev, 
              patterns: { 
                ...prev.patterns,
                total: prev.patterns.total + 1
              } 
            }));
          } else {
            // Already incorrect, trying again - update total only
            setScore(prev => ({ 
              ...prev, 
              patterns: { 
                ...prev.patterns,
                total: prev.patterns.total + 1
              } 
            }));
          }
          
          setFeedback(isCorrect ? 'correct' : 'incorrect');
          setShowAnswer(true);
          updateStatus(); // Update status only when question is completed
        };

        const checkConcept = () => {
          const isCorrect = selectedOption === question.correctIndex;
          setScore(prev => ({ ...prev, concepts: { correct: prev.concepts.correct + (isCorrect ? 1 : 0), total: prev.concepts.total + 1, questionScores: { ...prev.concepts.questionScores, [question.id]: isCorrect ? 'correct' : 'incorrect' }, selectedOptions: { ...prev.concepts.selectedOptions, [question.id]: selectedOption } } }));
          setFeedback(isCorrect ? 'correct' : 'incorrect');
          setShowAnswer(true);
          updateStatus(); // Update status only when question is completed
        };

        const markFlashcard = (isCorrect) => {
          setScore(prev => ({ ...prev, flashcards: { correct: prev.flashcards.correct + (isCorrect ? 1 : 0), total: prev.flashcards.total + 1, cardScores: { ...prev.flashcards.cardScores, [flashcard.id]: isCorrect ? 'correct' : 'incorrect' } } }));
          setFeedback(isCorrect ? 'correct' : 'incorrect');
          setShowAnswer(true);
          updateStatus(); // Update status only when question is completed
        };

        const next = () => {
          if (mode === 'patterns') {
            setCurrentPattern(prev => (prev + 1) % shuffledPatterns.length);
          } else if (mode === 'concepts') {
            setCurrentQuestion(prev => (prev + 1) % shuffledQuestions.length);
          } else if (mode === 'flashcards') {
            setCurrentFlashcard(prev => (prev + 1) % shuffledFlashcards.length);
          }
          setUserAnswer('');
          setPracticeAnswer('');
          setPracticeMode(false);
          setSelectedOption(null);
          setShowAnswer(false);
          setShowHint(false);
          setShowJSEquiv(false);
          setShowMistakes(false);
          setShowOriginal(false);
          setFeedback(null);
        };

        const jump = (index) => {
          if (mode === 'patterns') {
            setCurrentPattern(index);
          } else if (mode === 'concepts') {
            setCurrentQuestion(index);
          } else if (mode === 'flashcards') {
            setCurrentFlashcard(index);
          }
          setUserAnswer('');
          setPracticeAnswer('');
          setPracticeMode(false);
          setSelectedOption(null);
          setShowAnswer(false);
          setShowHint(false);
          setShowJSEquiv(false);
          setShowMistakes(false);
          setShowOriginal(false);
          setFeedback(null);
        };

        const toggleDetailedExplanation = (key) => {
          setShowDetailedExplanation(prev => ({
            ...prev,
            [key]: !prev[key]
          }));
        };

        const retrySet = () => {
          // Reset the mode's scores to 0 and clear all correct/incorrect status
          if (mode === 'patterns') {
            setScore(prev => ({ ...prev, patterns: { correct: 0, total: 0, patternScores: {} } }));
            setCurrentPattern(0);
            setShuffledPatterns(shuffleArray(PATTERNS));
            setMasteredPatterns(new Set());
          } else if (mode === 'concepts') {
            setScore(prev => ({ ...prev, concepts: { correct: 0, total: 0, questionScores: {}, selectedOptions: {} } }));
            setCurrentQuestion(0);
            setShuffledQuestions(shuffleQuestionOptions(shuffleArray(MC_QUESTIONS)));
            } else if (mode === 'flashcards') {
              setScore(prev => ({ ...prev, flashcards: { correct: 0, total: 0, cardScores: {} } }));
              setCurrentFlashcard(0);
              setShuffledFlashcards(shuffleArray(FLASHCARDS));
            }
            
            // Timer keeps running - only scores reset
            setUserAnswer(''); setSelectedOption(null); setShowAnswer(false); setShowHint(false); setShowJSEquiv(false); setShowMistakes(false); setShowOriginal(false); setFeedback(null);
          };


          const switchMode = m => { setMode(m); setUserAnswer(''); setSelectedOption(null); setShowAnswer(false); setShowHint(false); setShowJSEquiv(false); setShowMistakes(false); setShowOriginal(false); setFeedback(null); };
          
          const reset = () => { 
            // Reset ALL scores across all modes
            setScore({ patterns: { correct: 0, total: 0, patternScores: {} }, concepts: { correct: 0, total: 0, questionScores: {}, selectedOptions: {} }, flashcards: { correct: 0, total: 0, cardScores: {} } }); 
            setMasteredPatterns(new Set()); 
            setCurrentPattern(0); 
            setCurrentQuestion(0); 
            setCurrentFlashcard(0);
            setShuffledPatterns(shuffleArray(PATTERNS));
            setShuffledQuestions(shuffleQuestionOptions(shuffleArray(MC_QUESTIONS)));
            setShuffledFlashcards(shuffleArray(FLASHCARDS));
            
            // Reset timer and session
            setSessionStartTime(Date.now());
            setTimeRemaining(14400); // Reset to 4 hours
            
            setUserAnswer(''); 
            setSelectedOption(null); 
            setShowAnswer(false); 
            setShowHint(false); 
            setShowJSEquiv(false); 
            setShowMistakes(false); 
            setShowOriginal(false); 
            setFeedback(null); 
          };
          

        // Levenshtein distance algorithm for string similarity
        // Based on: https://en.wikipedia.org/wiki/Levenshtein_distance
        const levenshteinDistance = (str1, str2) => {
          const len1 = str1.length;
          const len2 = str2.length;
          
          // Create a 2D array for dynamic programming
          const matrix = Array(len1 + 1).fill(null).map(() => Array(len2 + 1).fill(0));
          
          // Initialize first column and row
          for (let i = 0; i <= len1; i++) matrix[i][0] = i;
          for (let j = 0; j <= len2; j++) matrix[0][j] = j;
          
          // Fill the matrix
          for (let i = 1; i <= len1; i++) {
            for (let j = 1; j <= len2; j++) {
              const cost = str1[i - 1] === str2[j - 1] ? 0 : 1;
              matrix[i][j] = Math.min(
                matrix[i - 1][j] + 1,      // deletion
                matrix[i][j - 1] + 1,      // insertion
                matrix[i - 1][j - 1] + cost // substitution
              );
            }
          }
          
          return matrix[len1][len2];
        };
        
        const getSimilarity = () => {
          const answerToCheck = practiceMode ? practiceAnswer : userAnswer;
          if (!answerToCheck || !pattern.answer) return 0;
          
          // Normalize strings (trim and convert to lowercase)
          // Keep whitespace intact - Python indentation matters!
          const answer = pattern.answer.trim().toLowerCase();
          const user = answerToCheck.trim().toLowerCase();
          
          // Calculate Levenshtein distance
          const distance = levenshteinDistance(answer, user);
          
          // Convert distance to similarity percentage
          // Similarity = (1 - distance / maxLength) * 100
          const maxLength = Math.max(answer.length, user.length);
          const similarity = maxLength === 0 ? 100 : ((1 - distance / maxLength) * 100);
          
          return Math.round(Math.max(0, similarity));
        };
        
        const isOnlyWhitespaceIssue = () => {
          const answerToCheck = practiceMode ? practiceAnswer : userAnswer;
          if (!answerToCheck || !pattern.answer) return false;
          
          // Remove all whitespace and compare
          const answerNoWhitespace = pattern.answer.trim().toLowerCase().replace(/\s+/g, '');
          const userNoWhitespace = answerToCheck.trim().toLowerCase().replace(/\s+/g, '');
          
          // If they match without whitespace but not with whitespace, it's only a whitespace issue
          return answerNoWhitespace === userNoWhitespace && 
                 pattern.answer.trim().toLowerCase() !== answerToCheck.trim().toLowerCase();
        };
        
        const hasTrailingWhitespace = () => {
          const answerToCheck = practiceMode ? practiceAnswer : userAnswer;
          if (!answerToCheck || !pattern.answer) return false;
          
          // Check if user's answer has trailing whitespace on any line
          const userLines = answerToCheck.split('\n');
          return userLines.some(line => line !== line.trimEnd());
        };

        const conceptCorrect = Object.values(score.concepts.questionScores).filter(s => s === 'correct').length;
        const conceptIncorrect = Object.values(score.concepts.questionScores).filter(s => s === 'incorrect').length;
        const flashcardCorrect = Object.values(score.flashcards.cardScores).filter(s => s === 'correct').length;
        const flashcardIncorrect = Object.values(score.flashcards.cardScores).filter(s => s === 'incorrect').length;

        return React.createElement('div', { className: "min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4" },
          React.createElement('div', { className: "max-w-5xl mx-auto" },
              React.createElement('div', { className: "bg-white rounded-lg shadow-lg p-6 mb-4" },
                React.createElement('div', { className: "flex justify-between items-center mb-4" },
                  React.createElement('div', null,
                    React.createElement('h1', { className: "text-3xl font-bold text-indigo-900 flex items-center gap-2" },
                      React.createElement(Brain),
                      "D385 Study Master"
                    ),
                    React.createElement('p', { className: "text-gray-600 mt-1" }, "Complete Exam Preparation")
                  ),
                  React.createElement('div', { className: "relative menu-container" },
                    React.createElement('button', { 
                      onClick: () => setShowMenu(!showMenu), 
                      className: "flex items-center gap-2 px-4 py-2 bg-indigo-100 hover:bg-indigo-200 text-indigo-800 rounded-lg" 
                    },
                      React.createElement('div', { className: "w-4 h-4" }, "⚙️"),
                      "Menu"
                    ),
            showMenu && React.createElement('div', { className: "absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-10" },
              React.createElement('div', { className: "flex justify-between items-center p-2 border-b border-gray-100" },
                React.createElement('span', { className: "text-sm font-medium text-gray-700" }, "Menu"),
                React.createElement('button', { 
                  onClick: () => setShowMenu(false), 
                  className: "text-gray-400 hover:text-gray-600 text-lg leading-none" 
                }, "×")
              ),
              React.createElement('div', { className: "py-1" },
                        React.createElement('button', { 
                          onClick: () => { setShowStudyTips(!showStudyTips); setShowMenu(false); }, 
                          className: "w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-yellow-50 hover:text-yellow-800 flex items-center gap-2" 
                        },
                          React.createElement('div', { className: "w-4 h-4" }, "🧠"),
                          "Study Tips"
                        ),
                        React.createElement('button', { 
                          onClick: () => { reset(); setShowMenu(false); }, 
                          className: "w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2" 
                        },
                          React.createElement(RotateCcw, { className: "w-4 h-4" }),
                          "Reset All"
                        ),
                React.createElement('button', { 
                  onClick: () => { setShowTimer(!showTimer); setShowMenu(false); }, 
                  className: "w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-green-50 hover:text-green-800 flex items-center gap-2" 
                },
                  React.createElement('div', { className: "w-4 h-4" }, "⏱️"),
                  "Timer"
                ),
                React.createElement('button', { 
                  onClick: () => { setShowReadme(true); setShowMenu(false); }, 
                  className: "w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-800 flex items-center gap-2" 
                },
                  React.createElement('div', { className: "w-4 h-4" }, "📖"),
                  "README"
                )
                      )
                    )
                  )
                ),
            showReadme && React.createElement('div', { className: "bg-white border border-gray-300 rounded-lg p-6 mb-4 max-h-96 overflow-y-auto" },
              React.createElement('div', { className: "flex justify-between items-center mb-4" },
                React.createElement('h3', { className: "text-2xl font-bold text-gray-900" }, "📖 README"),
                React.createElement('button', { 
                  onClick: () => setShowReadme(false), 
                  className: "text-black hover:text-gray-600 text-2xl leading-none font-bold" 
                }, "×")
              ),
              React.createElement('div', { className: "prose prose-sm max-w-none" },
                React.createElement('p', { className: "text-gray-700 mb-4" },
                  React.createElement('strong', null, 'D385 Study Master'),
                  ' - A comprehensive study application for WGU\'s D385 Software Engineering Capstone course.'
                ),
                React.createElement('div', { className: "mb-4" },
                  React.createElement('p', { className: "font-semibold text-gray-800 mb-2" }, "📖 Documentation:"),
                  React.createElement('p', { className: "ml-4" },
                    React.createElement('a', { 
                      href: "https://zwhiteshadow.github.io/d385-study-master/",
                      target: "_blank",
                      rel: "noopener noreferrer",
                      className: "text-blue-600 hover:text-blue-800"
                    }, "• README (GitHub Pages)")
                  ),
                  React.createElement('p', { className: "ml-4" },
                    React.createElement('a', { 
                      href: "https://github.com/ZWhiteShadow/d385-study-master",
                      target: "_blank",
                      rel: "noopener noreferrer",
                      className: "text-blue-600 hover:text-blue-800"
                    }, "• GitHub Repository")
                  )
                ),
                React.createElement('div', { className: "mb-4" },
                  React.createElement('p', { className: "font-semibold text-gray-800 mb-2" }, "🎓 Key Features:"),
                  React.createElement('ul', { className: "list-disc ml-8 text-gray-700 space-y-1" },
                    React.createElement('li', null, "Learning Mode with real-time feedback"),
                    React.createElement('li', null, "Levenshtein distance algorithm for code comparison"),
                    React.createElement('li', null, "68 questions across 3 modes"),
                    React.createElement('li', null, "Smart timer with weighted time tracking"),
                    React.createElement('li', null, "Difficulty levels and category tags")
                  )
                )
              )
            ),
            showStudyTips && React.createElement('div', { className: "bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4" },
              React.createElement('div', { className: "flex justify-between items-center mb-3" },
                React.createElement('h3', { className: "text-lg font-bold text-yellow-800 flex items-center gap-2" },
                  React.createElement(Brain),
                  "🎓 Reddit Study Wisdom - D385 Best Practices"
                ),
                React.createElement('button', { 
                  onClick: () => setShowStudyTips(false), 
                  className: "text-black hover:text-gray-600 text-lg leading-none" 
                }, "×")
              ),
                  React.createElement('div', { className: "grid md:grid-cols-2 gap-4" },
                    React.createElement('div', null,
                      React.createElement('h4', { className: "font-semibold text-yellow-700 mb-2" }, "📚 Study Strategy"),
                      React.createElement('ul', { className: "text-sm text-yellow-600 space-y-1" },
                        React.createElement('li', null, "• Focus on patterns first - they're 40% of the exam"),
                        React.createElement('li', null, "• Practice coding by hand, not just reading"),
                        React.createElement('li', null, "• Time yourself - 2 hours total, 1.5 min per question"),
                        React.createElement('li', null, "• Use the OA format: patterns → quiz → flashcards"),
                        React.createElement('li', null, "• Don't overthink - trust your first instinct")
                      )
                    ),
                    React.createElement('div', null,
                      React.createElement('h4', { className: "font-semibold text-yellow-700 mb-2" }, "⚡ Exam Day Tips"),
                      React.createElement('ul', { className: "text-sm text-yellow-600 space-y-1" },
                        React.createElement('li', null, "• Read error messages carefully - they give hints"),
                        React.createElement('li', null, "• Use exact variable names from the problem"),
                        React.createElement('li', null, "• Check for typos in function names"),
                        React.createElement('li', null, "• Remember: elif not else for null checks"),
                        React.createElement('li', null, "• Use str(e) for logging exceptions")
                      )
                    ),
                    React.createElement('div', null,
                      React.createElement('h4', { className: "font-semibold text-yellow-700 mb-2" }, "🔧 Common Patterns"),
                      React.createElement('ul', { className: "text-sm text-yellow-600 space-y-1" },
                        React.createElement('li', null, "• Template class prevents injection attacks"),
                        React.createElement('li', null, "• SHA3-256 for hashing, not SHA256"),
                        React.createElement('li', null, "• Range(1,11) for 1-10 validation"),
                        React.createElement('li', null, "• stat.S_IRWXU for admin permissions"),
                        React.createElement('li', null, "• generate_key() for deserialization validation")
                      )
                    ),
                    React.createElement('div', null,
                      React.createElement('h4', { className: "font-semibold text-yellow-700 mb-2" }, "🚨 Critical Mistakes"),
                      React.createElement('ul', { className: "text-sm text-yellow-600 space-y-1" },
                        React.createElement('li', null, "• Using 'else' instead of 'elif' for null checks"),
                        React.createElement('li', null, "• Forgetting str(e) in logging.error()"),
                        React.createElement('li', null, "• Using f-strings instead of Template class"),
                        React.createElement('li', null, "• Wrong permission flags in os.chmod()"),
                        React.createElement('li', null, "• Not generating new key in deserialization")
                      )
                    )
                  )
                ),
            showTimer && React.createElement('div', { className: "bg-green-50 border border-green-200 rounded-lg p-4 mb-4" },
              React.createElement('div', { className: "flex justify-between items-center mb-3" },
                React.createElement('h3', { className: "text-lg font-bold text-green-800 flex items-center gap-2" },
                  React.createElement('div', { className: "w-5 h-5" }, "⏱️"),
                  "Study Timer"
                ),
                React.createElement('button', { 
                  onClick: () => setShowTimer(false), 
                  className: "text-black hover:text-gray-600 text-lg leading-none" 
                }, "×")
              ),
                  React.createElement('div', { className: "flex items-center justify-between" },
                    React.createElement('div', { className: "text-center" },
                      React.createElement('div', { className: "text-3xl font-mono font-bold text-green-600 mb-2" }, formatTime(timeRemaining)),
                      React.createElement('div', { className: "text-sm text-green-600" }, 
                        timeRemaining > 3600 ? "Time remaining" : 
                        timeRemaining > 0 ? "Less than 1 hour left!" : "Time's up!"
                      )
                    ),
                    React.createElement('div', { className: "flex gap-2" },
                      !timerActive ? React.createElement('button', { 
                        onClick: startTimer, 
                        className: "px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-semibold" 
                      }, "▶️ Start") : React.createElement('button', { 
                        onClick: pauseTimer, 
                        className: "px-4 py-2 bg-yellow-600 hover:bg-yellow-700 text-white rounded-lg font-semibold" 
                      }, "⏸️ Pause"),
                      React.createElement('button', { 
                        onClick: resetTimer, 
                        className: "px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-semibold" 
                      }, "🔄 Reset")
                    )
                  ),
                  React.createElement('div', { className: "mt-3 text-xs text-green-600" },
                    "💡 Tip: 4 hours total = 3.6 minutes per question. Focus on patterns first!"
                  )
                ),
                // Overall Score Display with Weighted Calculation
                // REAL EXAM: 31 questions total
                // Time allocation: Patterns 45%, Quiz 35%, Cards 20%
                (() => {
                  const totalQuestions = 14 + 24 + 30; // 68 practice questions
                  const totalCorrect = masteredPatterns.size + conceptCorrect + flashcardCorrect;
                  
                  // Separate weighted score calculation
                  // Patterns: 45%, Quiz: 35%, Cards: 20%
                  const patternsPercent = (masteredPatterns.size / 14) * 100;
                  const quizPercent = (conceptCorrect / 24) * 100;
                  const cardsPercent = (flashcardCorrect / 30) * 100;
                  const weightedScore = (patternsPercent * 0.45) + (quizPercent * 0.35) + (cardsPercent * 0.20);
                  const overallPercentage = Math.round(weightedScore);
                  
                  const allCompleted = totalCorrect === totalQuestions;
                  const passed = overallPercentage >= 70;
                  
                  if (allCompleted) {
                    return React.createElement('div', { 
                      className: `mb-4 p-4 rounded-lg border-2 text-center ${passed ? 'bg-green-50 border-green-300' : 'bg-yellow-50 border-yellow-300'}`
                    },
                      React.createElement('div', { className: "text-3xl font-bold mb-2" }, 
                        passed ? "🎉" : "📚"
                      ),
                      React.createElement('div', { className: `text-2xl font-bold mb-1 ${passed ? 'text-green-700' : 'text-yellow-700'}` }, 
                        `Exam Readiness: ${overallPercentage}%`
                      ),
                      React.createElement('div', { className: "text-sm text-gray-600 mb-2" }, 
                        `Patterns: ${masteredPatterns.size}/14 (45%) | Quiz: ${conceptCorrect}/24 (35%) | Cards: ${flashcardCorrect}/30 (20%)`
                      ),
                      React.createElement('div', { className: `text-lg font-semibold ${passed ? 'text-green-600' : 'text-yellow-600'}` }, 
                        passed ? "🎓 Congratulations, you're ready for the exam!" : "Keep studying! You need 70% to pass."
                      )
                    );
                  } else if (totalCorrect > 0) {
                    return React.createElement('div', { className: "mb-4 p-3 bg-gray-50 rounded-lg border border-gray-200 text-center" },
                      React.createElement('div', { className: "text-lg font-semibold text-gray-700" }, 
                        `Exam Readiness: ${overallPercentage}%`
                      ),
                      React.createElement('div', { className: "text-xs text-gray-500 mt-1" }, 
                        `Patterns: ${masteredPatterns.size}/14 (45%) | Quiz: ${conceptCorrect}/24 (35%) | Cards: ${flashcardCorrect}/30 (20%)`
                      )
                    );
                  }
                  return null;
                })(),
                React.createElement('div', { className: "flex gap-2 mb-4" },
                  React.createElement('button', { 
                    onClick: () => switchMode('patterns'), 
                    className: `flex-1 py-3 rounded-lg font-semibold flex items-center justify-center gap-2 ${mode === 'patterns' ? 'bg-indigo-600 text-white' : 'bg-gray-100 text-gray-700'}`
                  },
                    React.createElement(FileCode),
                    "Patterns (14)"
                  ),
                  React.createElement('button', { 
                    onClick: () => switchMode('concepts'), 
                    className: `flex-1 py-3 rounded-lg font-semibold flex items-center justify-center gap-2 ${mode === 'concepts' ? 'bg-indigo-600 text-white' : 'bg-gray-100 text-gray-700'}`
                  },
                    React.createElement(HelpCircle),
                    "Quiz (24)"
                  ),
                  React.createElement('button', { 
                    onClick: () => switchMode('flashcards'), 
                    className: `flex-1 py-3 rounded-lg font-semibold flex items-center justify-center gap-2 ${mode === 'flashcards' ? 'bg-indigo-600 text-white' : 'bg-gray-100 text-gray-700'}`
                  },
                    React.createElement(BookOpen),
                    "Cards (30)"
                  )
                ),
                React.createElement('div', { className: "grid grid-cols-3 gap-3" },
                  React.createElement('div', { className: "bg-indigo-50 p-3 rounded-lg" },
                    React.createElement('div', { className: "text-sm text-gray-600" }, "Patterns"),
                    React.createElement('div', { className: "text-2xl font-bold text-indigo-600" }, `${masteredPatterns.size}/14`),
                    (() => {
                      const patternsPercent = Math.round((masteredPatterns.size / 14) * 100);
                      const patternsPassed = patternsPercent >= 70;
                      return patternsPassed ? React.createElement('div', { className: "text-xs font-semibold text-green-600 mt-1" }, `✓ Passed! (${patternsPercent}%)`) : (masteredPatterns.size > 0 ? React.createElement('div', { className: "text-xs text-gray-500 mt-1" }, `${patternsPercent}%`) : null);
                    })()
                  ),
                  React.createElement('div', { className: "bg-purple-50 p-3 rounded-lg" },
                    React.createElement('div', { className: "text-sm text-gray-600" }, "Quiz"),
                    React.createElement('div', { className: "text-2xl font-bold text-purple-600" }, `${conceptCorrect}/24`),
                    (() => {
                      const quizPercent = Math.round((conceptCorrect / 24) * 100);
                      const quizPassed = quizPercent >= 70;
                      return quizPassed ? React.createElement('div', { className: "text-xs font-semibold text-green-600 mt-1" }, `✓ Passed! (${quizPercent}%)`) : (conceptCorrect > 0 ? React.createElement('div', { className: "text-xs text-gray-500 mt-1" }, `${quizPercent}%`) : null);
                    })()
                  ),
                  React.createElement('div', { className: "bg-green-50 p-3 rounded-lg" },
                    React.createElement('div', { className: "text-sm text-gray-600" }, "Cards"),
                    React.createElement('div', { className: "text-2xl font-bold text-green-600" }, `${flashcardCorrect}/30`),
                    (() => {
                      const cardsPercent = Math.round((flashcardCorrect / 30) * 100);
                      const cardsPassed = cardsPercent >= 70;
                      return cardsPassed ? React.createElement('div', { className: "text-xs font-semibold text-green-600 mt-1" }, `✓ Passed! (${cardsPercent}%)`) : (flashcardCorrect > 0 ? React.createElement('div', { className: "text-xs text-gray-500 mt-1" }, `${cardsPercent}%`) : null);
                    })()
                  )
                )
              ),
              mode === 'patterns' ? React.createElement('div', { className: "bg-white rounded-lg shadow-lg p-6" },
                React.createElement('div', { className: "flex justify-between items-start mb-4" },
                  React.createElement('div', null,
                    React.createElement('div', { className: "mb-2" },
                      React.createElement('div', { className: "flex items-center gap-2 mb-2" },
                        timerActive && showQuestionTimer && React.createElement('div', { className: "flex items-center gap-2 text-sm font-mono min-w-[120px]" },
                          React.createElement('span', { className: "text-gray-600" }, formatTime(timeRemaining)),
                          React.createElement('span', { className: `${timerDisplay.status.includes('Behind') ? 'text-red-600' : 'text-green-600'}` }, timerDisplay.status),
                          React.createElement('button', { 
                            onClick: () => setShowQuestionTimer(false), 
                            className: "text-gray-400 hover:text-gray-600 text-xs" 
                          }, "✕")
                        ),
                        timerActive && !showQuestionTimer && React.createElement('button', { 
                          onClick: () => setShowQuestionTimer(true), 
                          className: "text-xs text-gray-500 hover:text-gray-700" 
                        }, "Show Timer")
                      ),
                      React.createElement('div', { className: "text-sm text-gray-500" }, `Pattern ${currentPattern + 1} of 14`)
                    ),
                    React.createElement('h2', { className: "text-2xl font-bold text-gray-800" }, pattern.name),
                    React.createElement('div', { className: "flex gap-2 mt-2" },
                      React.createElement('span', { className: "px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm" }, pattern.category),
                      React.createElement('span', { className: `px-3 py-1 rounded-full text-sm ${pattern.difficulty === 'Easy' ? 'bg-green-100 text-green-700' : pattern.difficulty === 'Medium' ? 'bg-yellow-100 text-yellow-700' : 'bg-red-100 text-red-700'}` }, pattern.difficulty)
                    )
                  ),
                  masteredPatterns.has(pattern.id) && React.createElement(Trophy)
                ),
                React.createElement('div', { className: "bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r-lg mb-4" },
                  React.createElement('p', { className: "text-gray-800 font-medium" }, pattern.problem)
                ),
                React.createElement('div', { className: "flex flex-wrap gap-2 mb-4" },
                  React.createElement('button', { 
                    onClick: () => {
                      const newMode = !practiceMode;
                      setPracticeMode(newMode);
                      if (newMode) {
                        setShowHint(false);
                        setShowJSEquiv(false);
                        setShowMistakes(false);
                        setShowOriginal(false);
                      }
                      setPracticeAnswer('');
                      setUserAnswer('');
                      setShowAnswer(false);
                      setFeedback(null);
                    }, 
                    className: `px-3 py-1.5 ${practiceMode ? 'bg-blue-600 text-white' : 'bg-blue-100 hover:bg-blue-200 text-blue-800'} rounded-lg text-sm flex items-center gap-1 font-semibold` 
                  },
                    React.createElement(Code),
                    practiceMode ? '✓ Learning Mode' : 'Learning Mode'
                  ),
                  React.createElement('button', { 
                    onClick: () => {
                      const newState = !showHint;
                      setShowHint(newState);
                      if (newState) {
                        setPracticeMode(false);
                        setShowJSEquiv(false);
                        setShowMistakes(false);
                        setShowOriginal(false);
                      }
                    }, 
                    className: "px-3 py-1.5 bg-yellow-100 hover:bg-yellow-200 text-yellow-800 rounded-lg text-sm flex items-center gap-1" 
                  },
                    React.createElement(Lightbulb),
                    showHint ? 'Hide' : 'Show', " Hint"
                  ),
                  React.createElement('button', { 
                    onClick: () => {
                      const newState = !showJSEquiv;
                      setShowJSEquiv(newState);
                      if (newState) {
                        setPracticeMode(false);
                        setShowHint(false);
                        setShowMistakes(false);
                        setShowOriginal(false);
                      }
                    }, 
                    className: "px-3 py-1.5 bg-green-100 hover:bg-green-200 text-green-800 rounded-lg text-sm flex items-center gap-1" 
                  },
                    React.createElement(Code),
                    showJSEquiv ? 'Hide' : 'Show', " JS/Java"
                  ),
                  React.createElement('button', { 
                    onClick: () => {
                      const newState = !showMistakes;
                      setShowMistakes(newState);
                      if (newState) {
                        setPracticeMode(false);
                        setShowHint(false);
                        setShowJSEquiv(false);
                        setShowOriginal(false);
                      }
                    }, 
                    className: "px-3 py-1.5 bg-orange-100 hover:bg-orange-200 text-orange-800 rounded-lg text-sm flex items-center gap-1" 
                  },
                    React.createElement(AlertCircle),
                    showMistakes ? 'Hide' : 'Show', " Mistakes"
                  ),
                  React.createElement('button', { 
                    onClick: () => {
                      const newState = !showOriginal;
                      setShowOriginal(newState);
                      if (newState) {
                        setPracticeMode(false);
                        setShowHint(false);
                        setShowJSEquiv(false);
                        setShowMistakes(false);
                      }
                    }, 
                    className: "px-3 py-1.5 bg-purple-100 hover:bg-purple-200 text-purple-800 rounded-lg text-sm flex items-center gap-1" 
                  },
                    React.createElement(BookOpen),
                    showOriginal ? 'Hide' : 'Show', " Original Question"
                  )
                ),
                showHint && React.createElement('div', { className: "bg-yellow-50 border-l-4 border-yellow-400 p-3 mb-4 rounded-r-lg" },
                  React.createElement('p', { className: "text-sm text-yellow-800" }, `💡 ${pattern.hint}`)
                ),
                showJSEquiv && React.createElement('div', { className: "bg-green-50 border-l-4 border-green-400 p-3 mb-4 rounded-r-lg" },
                  React.createElement('p', { className: "text-sm text-green-800 font-semibold" }, "JS/Java:"),
                  React.createElement('code', { className: "block text-xs bg-green-900 text-green-100 p-2 rounded mt-1" }, pattern.jsEquivalent)
                ),
                showMistakes && React.createElement('div', { className: "bg-orange-50 border-l-4 border-orange-400 p-3 mb-4 rounded-r-lg" },
                  React.createElement('p', { className: "text-sm text-orange-800 font-semibold mb-1" }, "⚠️ Common Mistakes:"),
                  React.createElement('ul', { className: "text-sm text-orange-700 list-disc list-inside" }, pattern.commonMistakes.map((m, i) => React.createElement('li', { key: i }, m)))
                ),
                showOriginal && React.createElement('div', { className: "bg-purple-50 border-l-4 border-purple-400 p-2 mb-3 rounded-r-lg" },
                  React.createElement('p', { className: "text-xs text-purple-800 font-semibold mb-1" }, "📄 Original Exam Question:"),
                  React.createElement('div', { className: "bg-white border border-purple-200 rounded p-2 h-32 overflow-y-auto" },
                    React.createElement('pre', { className: "text-xs whitespace-pre-wrap font-mono text-gray-700 flex" },
                      React.createElement('div', { className: "text-gray-400 pr-2 select-none flex-shrink-0" }, 
                        Array.from({ length: Math.max(pattern.originalQuestion.split('\n').length, 50) }, (_, i) => 
                          React.createElement('div', { key: i, className: "leading-tight h-[1.2em]" }, i + 1)
                        )
                      ),
                      React.createElement('div', { className: "flex-1 leading-tight" }, pattern.originalQuestion)
                    )
                  )
                ),
                practiceMode ? React.createElement('div', { className: "mb-4" },
                  React.createElement('div', { className: "grid grid-cols-2 gap-4" },
                    React.createElement('div', null,
                      React.createElement('div', { className: "text-sm font-semibold text-gray-700 mb-2" }, "📝 Your Code:"),
                      React.createElement('textarea', { 
                        value: practiceAnswer, 
                        onChange: e => setPracticeAnswer(e.target.value), 
                        placeholder: "Type your Python code here...", 
                        className: "w-full p-3 border-2 border-blue-300 rounded-lg font-mono text-sm h-64", 
                        spellCheck: false
                      })
                    ),
                    React.createElement('div', null,
                      React.createElement('div', { className: "text-sm font-semibold text-gray-700 mb-2" }, "✅ Correct Answer:"),
                      React.createElement('pre', { className: "bg-gray-800 text-green-400 p-3 rounded text-sm whitespace-pre-wrap font-mono h-64 overflow-y-auto" }, pattern.answer)
                    )
                  ),
                  practiceAnswer.trim() && React.createElement('div', null,
                    React.createElement('div', { className: `mt-3 p-3 rounded-lg text-center ${
                      getSimilarity() >= 90 ? 'bg-green-100 border-2 border-green-300' :
                      getSimilarity() >= 70 ? 'bg-yellow-100 border-2 border-yellow-300' :
                      getSimilarity() >= 50 ? 'bg-orange-100 border-2 border-orange-300' :
                      'bg-red-100 border-2 border-red-300'
                    }` },
                      React.createElement('span', { className: `font-bold text-lg ${
                        getSimilarity() >= 90 ? 'text-green-700' :
                        getSimilarity() >= 70 ? 'text-yellow-700' :
                        getSimilarity() >= 50 ? 'text-orange-700' :
                        'text-red-700'
                      }` }, `${getSimilarity()}% Match`),
                      React.createElement('span', { className: "ml-2 text-sm text-gray-600" },
                        getSimilarity() === 100 ? '🎉 Perfect!' :
                        getSimilarity() >= 90 ? '✨ Almost there!' :
                        getSimilarity() >= 70 ? '👍 Good progress!' :
                        getSimilarity() >= 50 ? '💪 Keep going!' :
                        '📝 Keep trying!'
                      )
                    ),
                    isOnlyWhitespaceIssue() && React.createElement('div', { className: "mt-2 p-2 bg-blue-50 border-l-4 border-blue-400 rounded text-left" },
                      React.createElement('p', { className: "text-sm text-blue-800" },
                        React.createElement('strong', null, '💡 Indentation Tip: '),
                        'Python officially recommends using 4 spaces per indentation level.'
                      )
                    ),
                    (hasTrailingWhitespace() && getSimilarity() >= 90) && React.createElement('div', { className: "mt-2 p-2 bg-yellow-50 border-l-4 border-yellow-400 rounded text-left" },
                      React.createElement('p', { className: "text-sm text-yellow-800" },
                        React.createElement('strong', null, '⚠️ Whitespace Warning: '),
                        'You have extra spaces at the end of one or more lines. Remove trailing whitespace.'
                      )
                    )
                  )
                ) : React.createElement(React.Fragment, null,
                  React.createElement('textarea', { 
                    value: userAnswer, 
                    onChange: e => setUserAnswer(e.target.value), 
                    placeholder: "Type your Python code...", 
                    className: "w-full p-3 border-2 rounded-lg font-mono text-sm mb-4", 
                    rows: 6, 
                    disabled: showAnswer 
                  }),
                  feedback && React.createElement('div', { className: `p-4 rounded-lg mb-4 ${feedback === 'correct' ? 'bg-green-50' : 'bg-red-50'}` },
                    feedback === 'correct' ? React.createElement('span', { className: "text-green-800 font-semibold" }, "✅ Perfect!") : React.createElement('span', { className: "text-red-800 font-semibold" }, `❌ ${getSimilarity()}% Match`)
                  )
                ),
                showAnswer && React.createElement('div', { className: "bg-gray-50 p-4 rounded-lg mb-4" },
                  React.createElement('pre', { className: "bg-gray-800 text-green-400 p-3 rounded text-sm overflow-x-auto whitespace-pre-wrap" }, pattern.answer),
                  React.createElement('p', { className: "text-sm text-gray-600 mt-2" }, pattern.explanation)
                ),
                feedback === 'incorrect' && !practiceMode && React.createElement('button', {
                  onClick: () => {
                    setPracticeMode(true);
                    setShowHint(false);
                    setShowJSEquiv(false);
                    setShowMistakes(false);
                    setShowOriginal(false);
                    setPracticeAnswer('');
                    setUserAnswer('');
                    setShowAnswer(false);
                    setFeedback(null);
                  },
                  className: "w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg mb-4 animate-pulse"
                }, "🎓 Try Learning Mode"),
                React.createElement('div', { className: "flex gap-3" },
                  practiceMode && practiceAnswer.trim() && getSimilarity() === 100 && React.createElement('button', {
                    onClick: () => {
                      setPracticeMode(false);
                      setUserAnswer('');
                      setPracticeAnswer('');
                      setShowAnswer(false);
                      setFeedback(null);
                    },
                    className: "flex-1 bg-green-600 hover:bg-green-700 text-white font-semibold py-3 rounded-lg animate-pulse"
                  }, "✅ I'm Ready - Test Me!"),
                  !showAnswer ? React.createElement(React.Fragment, null,
                    !practiceMode && React.createElement('button', { onClick: checkPattern, disabled: !userAnswer.trim(), className: "flex-1 bg-indigo-600 hover:bg-indigo-700 disabled:bg-gray-300 text-white font-semibold py-3 rounded-lg" }, "Check"),
                    React.createElement('button', { onClick: next, className: "px-6 bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-3 rounded-lg flex items-center gap-2" },
                      React.createElement(SkipForward),
                      "Skip"
                    )
                  ) : React.createElement(React.Fragment, null,
                    React.createElement('button', { 
                      onClick: () => {
                        setShowAnswer(false);
                        setFeedback(null);
                        setUserAnswer('');
                      }, 
                      className: "flex-1 bg-yellow-600 hover:bg-yellow-700 text-white font-semibold py-3 rounded-lg" 
                    }, feedback === 'incorrect' ? "🔄 Retry" : "🔄 Try Again"),
                    React.createElement('button', { 
                      onClick: next, 
                      className: `flex-1 ${feedback === 'incorrect' ? 'bg-gray-200 hover:bg-gray-300 text-gray-700' : 'bg-indigo-600 hover:bg-indigo-700 text-white'} font-semibold py-3 rounded-lg flex items-center gap-2 justify-center` 
                    },
                      feedback === 'incorrect' && React.createElement(SkipForward),
                      feedback === 'incorrect' ? "Skip" : "Next →"
                    )
                  )
                )
              ) : mode === 'concepts' ? (question ? React.createElement('div', { className: "bg-white rounded-lg shadow-lg p-6" },
                React.createElement('div', { className: "mb-4" },
                  React.createElement('div', { className: "mb-2" },
                    React.createElement('div', { className: "flex items-center gap-2 mb-2" },
                      timerActive && showQuestionTimer && React.createElement('div', { className: "flex items-center gap-2 text-sm font-mono min-w-[120px]" },
                        React.createElement('span', { className: "text-gray-600" }, formatTime(timeRemaining)),
                        React.createElement('span', { className: `${timerDisplay.status.includes('Behind') ? 'text-red-600' : 'text-green-600'}` }, timerDisplay.status),
                        React.createElement('button', { 
                          onClick: () => setShowQuestionTimer(false), 
                          className: "text-gray-400 hover:text-gray-600 text-xs" 
                        }, "✕")
                      ),
                      timerActive && !showQuestionTimer && React.createElement('button', { 
                        onClick: () => setShowQuestionTimer(true), 
                        className: "text-xs text-gray-500 hover:text-gray-700" 
                      }, "Show Timer")
                    ),
                    React.createElement('div', { className: "text-sm text-gray-500" }, `Question ${currentQuestion + 1} of 24`)
                  ),
                  React.createElement('div', { className: "flex gap-2 mt-1" },
                    React.createElement('span', { className: "inline-block px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm" }, question.category),
                    React.createElement('span', { className: `inline-block px-3 py-1 rounded-full text-sm font-medium ${
                      question.difficulty === 'Easy' ? 'bg-green-100 text-green-700' :
                      question.difficulty === 'Medium' ? 'bg-yellow-100 text-yellow-700' :
                      'bg-red-100 text-red-700'
                    }` }, question.difficulty)
                  )
                ),
                React.createElement('div', { className: "bg-purple-50 border-l-4 border-purple-500 p-4 rounded-r-lg mb-4" },
                  React.createElement('p', { className: "text-gray-800 font-medium" }, question.question)
                ),
                React.createElement('div', { className: "space-y-3 mb-4" }, question.options.map((opt, idx) => {
                  const currentSelected = selectedOption !== null ? selectedOption : (score.concepts.selectedOptions && score.concepts.selectedOptions[question.id]);
                  const isAnswered = score.concepts.questionScores[question.id];
                  const explanationKey = `q${question.id}_${idx}`;
                  const hasExplanation = PRE_ASSESSMENT_EXPLANATIONS[explanationKey];
                  console.log('Quiz dropdown debug:', { questionId: question.id, optionIndex: idx, explanationKey, hasExplanation, allKeys: Object.keys(PRE_ASSESSMENT_EXPLANATIONS) });
                  
                  return React.createElement('div', { key: idx, className: "space-y-2" },
                    React.createElement('button', { 
                      onClick: () => !showAnswer && !isAnswered && setSelectedOption(idx), 
                      disabled: showAnswer || isAnswered, 
                      className: `w-full text-left p-4 rounded-lg border-2 ${(showAnswer || isAnswered) ? (idx === question.correctIndex ? 'border-green-500 bg-green-50' : idx === currentSelected ? 'border-red-500 bg-red-50' : 'border-gray-200') : currentSelected === idx ? 'border-purple-500 bg-purple-50' : 'border-gray-200 hover:border-gray-300'}`
                    },
                      React.createElement('div', { className: "flex gap-3" },
                        React.createElement('div', { className: `w-6 h-6 rounded-full border-2 flex items-center justify-center ${(showAnswer || isAnswered) && idx === question.correctIndex ? 'bg-green-500' : (showAnswer || isAnswered) && idx === currentSelected ? 'bg-red-500' : currentSelected === idx ? 'bg-purple-500' : 'border-gray-300'}` },
                          (showAnswer || isAnswered) && idx === question.correctIndex && React.createElement(CheckCircle),
                          (showAnswer || isAnswered) && idx === currentSelected && idx !== question.correctIndex && React.createElement(XCircle)
                        ),
                        React.createElement('span', { className: "text-gray-800 flex-1" }, 
                          React.createElement('span', { className: "font-bold mr-2" }, ['A:', 'B:', 'C:', 'D:', 'E:'][idx]),
                          opt
                        )
                      )
                    )
                  );
                })),
                (showAnswer || score.concepts.questionScores[question.id]) && (selectedOption !== null || (score.concepts.selectedOptions && score.concepts.selectedOptions[question.id] !== undefined)) && React.createElement('div', { className: "bg-gray-50 p-4 rounded-lg mb-4 space-y-3" },
                  (() => {
                    const currentSelected = selectedOption !== null ? selectedOption : (score.concepts.selectedOptions && score.concepts.selectedOptions[question.id]);
                    const explanationKey = `q${question.id}_${currentSelected}`;
                    const hasExplanation = PRE_ASSESSMENT_EXPLANATIONS[explanationKey];
                    return React.createElement('div', { className: `p-3 rounded-lg ${currentSelected === question.correctIndex ? 'bg-green-100' : 'bg-red-100'}` },
                      React.createElement('div', { className: "font-semibold text-sm mb-1" }, "Your Choice:"),
                      React.createElement('div', { className: "flex items-center justify-between" },
                        React.createElement('p', { className: "text-sm flex-1" }, question.optionExplanations[currentSelected]),
                        React.createElement('button', {
                          onClick: (e) => { 
                            e.stopPropagation(); 
                            console.log('Clicked More button:', explanationKey, 'Current state:', showDetailedExplanation[explanationKey]);
                            toggleDetailedExplanation(explanationKey); 
                            console.log('After toggle:', showDetailedExplanation[explanationKey]);
                          },
                          className: "text-blue-600 hover:text-blue-800 text-sm font-medium px-2 py-1 rounded hover:bg-blue-50 border border-blue-300 ml-2"
                        }, showDetailedExplanation[explanationKey] ? "▼ Less" : "▶ More")
                      ),
                      showDetailedExplanation[explanationKey] && React.createElement('div', { className: "mt-3 p-4 bg-blue-50 border-l-4 border-blue-200 rounded-r-lg" },
                        React.createElement('h4', { className: "font-semibold text-blue-800 mb-2" }, hasExplanation ? PRE_ASSESSMENT_EXPLANATIONS[explanationKey].title : "No detailed explanation available"),
                        React.createElement('div', { 
                          className: "text-sm text-gray-700 prose prose-sm max-w-none",
                          dangerouslySetInnerHTML: { __html: hasExplanation ? PRE_ASSESSMENT_EXPLANATIONS[explanationKey].content.replace(/\n/g, '<br>').replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>').replace(/`(.*?)`/g, '<code class="bg-gray-200 px-1 rounded">$1</code>') : "This explanation is not yet available." }
                        })
                      )
                    );
                  })(),
                  (() => {
                    const currentSelected = selectedOption !== null ? selectedOption : (score.concepts.selectedOptions && score.concepts.selectedOptions[question.id]);
                    return question.optionExplanations.map((exp, idx) => {
                      if (idx === currentSelected) return null; // Don't show the selected answer again
                      const explanationKey = `q${question.id}_${idx}`;
                      const hasExplanation = PRE_ASSESSMENT_EXPLANATIONS[explanationKey];
                      return React.createElement('div', { key: idx, className: `p-3 rounded-lg ${idx === question.correctIndex ? 'bg-green-50 border border-green-200' : 'bg-gray-100'}` },
                        React.createElement('div', { className: "flex items-center justify-between" },
                          React.createElement('div', { className: "flex-1" },
                            idx === question.correctIndex && React.createElement('div', { className: "font-semibold text-sm mb-1 text-green-700" }, "Correct Answer:"),
                            React.createElement('p', { className: "text-sm text-gray-700" }, exp)
                          ),
                          React.createElement('button', {
                            onClick: (e) => { 
                              e.stopPropagation(); 
                              console.log('Clicked More button:', explanationKey, 'Current state:', showDetailedExplanation[explanationKey]);
                              toggleDetailedExplanation(explanationKey); 
                              console.log('After toggle:', showDetailedExplanation[explanationKey]);
                            },
                            className: "text-blue-600 hover:text-blue-800 text-sm font-medium px-2 py-1 rounded hover:bg-blue-50 border border-blue-300 ml-2"
                          }, showDetailedExplanation[explanationKey] ? "▼ Less" : "▶ More")
                        ),
                        showDetailedExplanation[explanationKey] && React.createElement('div', { className: "mt-3 p-4 bg-blue-50 border-l-4 border-blue-200 rounded-r-lg" },
                          React.createElement('h4', { className: "font-semibold text-blue-800 mb-2" }, hasExplanation ? PRE_ASSESSMENT_EXPLANATIONS[explanationKey].title : "No detailed explanation available"),
                          React.createElement('div', { 
                            className: "text-sm text-gray-700 prose prose-sm max-w-none",
                            dangerouslySetInnerHTML: { __html: hasExplanation ? PRE_ASSESSMENT_EXPLANATIONS[explanationKey].content.replace(/\n/g, '<br>').replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>').replace(/`(.*?)`/g, '<code class="bg-gray-200 px-1 rounded">$1</code>') : "This explanation is not yet available." }
                          })
                        )
                      );
                    });
                  })()
                ),
                React.createElement('div', { className: "flex gap-3" },
                  !showAnswer && !score.concepts.questionScores[question.id] ? React.createElement(React.Fragment, null,
                    React.createElement('button', { onClick: checkConcept, disabled: selectedOption === null, className: "flex-1 bg-indigo-600 hover:bg-indigo-700 disabled:bg-gray-300 text-white font-semibold py-3 rounded-lg" }, "Check"),
                    React.createElement('button', { onClick: next, className: "px-6 bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-3 rounded-lg flex items-center gap-2" },
                      React.createElement(SkipForward),
                      "Skip"
                    )
                  ) : React.createElement(React.Fragment, null,
                    score.concepts.questionScores[question.id] ? React.createElement('div', { className: "flex-1 bg-gray-100 text-gray-600 font-semibold py-3 rounded-lg text-center" }, "✅ Already Answered") : null,
                    React.createElement('button', { onClick: retrySet, className: "flex-1 bg-yellow-600 hover:bg-yellow-700 text-white font-semibold py-3 rounded-lg" }, "🔄 Retry Full Quiz Set"),
                    React.createElement('button', { onClick: next, className: "flex-1 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 rounded-lg" }, "Next →")
                  )
                )
              ) : React.createElement('div', { className: "bg-white rounded-lg shadow-lg p-6 text-center" },
                React.createElement('p', { className: "text-gray-500" }, "Loading quiz questions...")
              )) : React.createElement('div', { className: "bg-white rounded-lg shadow-lg p-6" },
                React.createElement('div', { className: "mb-4" },
                  React.createElement('div', { className: "mb-2" },
                    React.createElement('div', { className: "flex items-center gap-2 mb-2" },
                      timerActive && showQuestionTimer && React.createElement('div', { className: "flex items-center gap-2 text-sm font-mono min-w-[120px]" },
                        React.createElement('span', { className: "text-gray-600" }, formatTime(timeRemaining)),
                        React.createElement('span', { className: `${timerDisplay.status.includes('Behind') ? 'text-red-600' : 'text-green-600'}` }, timerDisplay.status),
                        React.createElement('button', { 
                          onClick: () => setShowQuestionTimer(false), 
                          className: "text-gray-400 hover:text-gray-600 text-xs" 
                        }, "✕")
                      ),
                      timerActive && !showQuestionTimer && React.createElement('button', { 
                        onClick: () => setShowQuestionTimer(true), 
                        className: "text-xs text-gray-500 hover:text-gray-700" 
                      }, "Show Timer")
                    ),
                    React.createElement('div', { className: "text-sm text-gray-500" }, `Card ${currentFlashcard + 1} of 30`)
                  ),
                  React.createElement('div', { className: "flex gap-2 mt-1" },
                    React.createElement('span', { className: "inline-block px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm" }, flashcard.category),
                    React.createElement('span', { className: `inline-block px-3 py-1 rounded-full text-sm font-medium ${
                      flashcard.difficulty === 'Easy' ? 'bg-green-100 text-green-700' :
                      flashcard.difficulty === 'Medium' ? 'bg-yellow-100 text-yellow-700' :
                      'bg-red-100 text-red-700'
                    }` }, flashcard.difficulty)
                  )
                ),
                React.createElement('div', { className: "bg-green-50 border-l-4 border-green-500 p-4 rounded-r-lg mb-4" },
                  React.createElement('p', { className: "text-gray-800 font-medium" }, flashcard.question)
                ),
                (!showAnswer && !score.flashcards.cardScores[flashcard.id]) && React.createElement('div', { className: "mb-4 space-y-2" },
                  React.createElement('button', {
                    onClick: () => setShowAnswer(true),
                    className: "px-4 py-2 bg-blue-100 hover:bg-blue-200 text-blue-800 rounded-lg text-sm"
                  }, "Show Answer")
                ),
                (showAnswer || score.flashcards.cardScores[flashcard.id]) && React.createElement('div', { className: "bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r-lg mb-4" },
                  React.createElement('p', { className: "text-sm text-blue-800 font-semibold mb-1" }, "Answer:"),
                  React.createElement('p', { className: "text-gray-800" }, flashcard.answer)
                ),
                feedback && React.createElement('div', { className: `p-4 rounded-lg mb-4 ${feedback === 'correct' ? 'bg-green-50' : 'bg-red-50'}` },
                  feedback === 'correct' ? React.createElement('span', { className: "text-green-800 font-semibold" }, "✅ Correct!") : React.createElement('span', { className: "text-red-800 font-semibold" }, "❌ Incorrect")
                ),
                React.createElement('div', { className: "flex gap-3" },
                  !showAnswer && !score.flashcards.cardScores[flashcard.id] ? React.createElement(React.Fragment, null,
                    React.createElement('button', { onClick: next, className: "px-6 bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-3 rounded-lg flex items-center gap-2" },
                      React.createElement(SkipForward),
                      "Skip"
                    )
                  ) : showAnswer && !score.flashcards.cardScores[flashcard.id] ? React.createElement(React.Fragment, null,
                    React.createElement('button', { onClick: () => markFlashcard(true), className: "flex-1 bg-green-600 hover:bg-green-700 text-white font-semibold py-3 rounded-lg" }, "✅ Got it right"),
                    React.createElement('button', { onClick: () => markFlashcard(false), className: "flex-1 bg-red-600 hover:bg-red-700 text-white font-semibold py-3 rounded-lg" }, "❌ Got it wrong"),
                    React.createElement('button', { onClick: next, className: "px-6 bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-3 rounded-lg flex items-center gap-2" },
                      React.createElement(SkipForward),
                      "Skip"
                    )
                  ) : React.createElement(React.Fragment, null,
                    score.flashcards.cardScores[flashcard.id] ? React.createElement('div', { className: "flex-1 bg-gray-100 text-gray-600 font-semibold py-3 rounded-lg text-center" }, "✅ Already Answered") : null,
                    React.createElement('button', { onClick: retrySet, className: "flex-1 bg-yellow-600 hover:bg-yellow-700 text-white font-semibold py-3 rounded-lg" }, "🔄 Retry Full Cards Set"),
                    React.createElement('button', { onClick: next, className: "flex-1 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 rounded-lg" }, "Next →")
                  )
                )
              ),
              React.createElement('div', { className: "mt-4 bg-white rounded-lg shadow-lg p-4" },
                React.createElement('div', { className: "text-sm font-semibold text-gray-600 mb-2" }, "Progress:"),
                React.createElement('div', { className: "flex flex-wrap gap-2" }, mode === 'patterns' ? shuffledPatterns.map((p, idx) => { 
                  const sc = score.patterns.patternScores[p.id]; 
                  return React.createElement('button', { 
                    key: p.id, 
                    onClick: () => jump(idx), 
                    className: `w-10 h-10 rounded flex items-center justify-center text-xs font-bold ${sc === 'correct' ? 'bg-green-500 text-white' : sc === 'incorrect' ? 'bg-red-500 text-white' : idx === currentPattern ? 'bg-indigo-500 text-white' : 'bg-gray-200 text-gray-600'}`
                  }, idx + 1); 
                }) : mode === 'concepts' ? shuffledQuestions.map((q, idx) => { 
                  const st = score.concepts.questionScores[q.id]; 
                  return React.createElement('button', { 
                    key: q.id, 
                    onClick: () => jump(idx), 
                    className: `w-10 h-10 rounded flex items-center justify-center text-xs font-bold ${st === 'correct' ? 'bg-green-500 text-white' : st === 'incorrect' ? 'bg-red-500 text-white' : idx === currentQuestion ? 'bg-purple-500 text-white' : 'bg-gray-200 text-gray-600'}`
                  }, idx + 1); 
                }) : shuffledFlashcards.map((f, idx) => { 
                  const st = score.flashcards.cardScores[f.id]; 
                  return React.createElement('button', { 
                    key: f.id, 
                    onClick: () => jump(idx), 
                    className: `w-10 h-10 rounded flex items-center justify-center text-xs font-bold ${st === 'correct' ? 'bg-green-500 text-white' : st === 'incorrect' ? 'bg-red-500 text-white' : idx === currentFlashcard ? 'bg-indigo-500 text-white' : 'bg-gray-200 text-gray-600'}`
                  }, idx + 1); 
                })),
                React.createElement('div', { className: "mt-3 flex gap-4 text-xs text-gray-600" }, mode === 'patterns' ? React.createElement(React.Fragment, null,
                  React.createElement('div', { className: "flex items-center gap-1" },
                    React.createElement('div', { className: "w-4 h-4 bg-green-500 rounded" }),
                    React.createElement('span', null, "100% Perfect")
                  ),
                  React.createElement('div', { className: "flex items-center gap-1" },
                    React.createElement('div', { className: "w-4 h-4 bg-yellow-500 rounded" }),
                    React.createElement('span', null, "90-99% Close")
                  ),
                  React.createElement('div', { className: "flex items-center gap-1" },
                    React.createElement('div', { className: "w-4 h-4 bg-red-500 rounded" }),
                    React.createElement('span', null, "<90% Needs Work")
                  )
                ) : mode === 'concepts' ? React.createElement(React.Fragment, null,
                  React.createElement('div', { className: "flex items-center gap-1" },
                    React.createElement('div', { className: "w-4 h-4 bg-green-500 rounded" }),
                    React.createElement('span', null, `✓ Correct (${conceptCorrect})`)
                  ),
                  React.createElement('div', { className: "flex items-center gap-1" },
                    React.createElement('div', { className: "w-4 h-4 bg-red-500 rounded" }),
                    React.createElement('span', null, `✗ Incorrect (${conceptIncorrect})`)
                  ),
                  React.createElement('div', { className: "flex items-center gap-1" },
                    React.createElement('div', { className: "w-4 h-4 bg-gray-200 rounded" }),
                    React.createElement('span', null, "Not Attempted")
                  )
                ) : React.createElement(React.Fragment, null,
                  React.createElement('div', { className: "flex items-center gap-1" },
                    React.createElement('div', { className: "w-4 h-4 bg-green-500 rounded" }),
                    React.createElement('span', null, `✓ Correct (${flashcardCorrect})`)
                  ),
                  React.createElement('div', { className: "flex items-center gap-1" },
                    React.createElement('div', { className: "w-4 h-4 bg-red-500 rounded" }),
                    React.createElement('span', null, `✗ Incorrect (${flashcardIncorrect})`)
                  ),
                  React.createElement('div', { className: "flex items-center gap-1" },
                    React.createElement('div', { className: "w-4 h-4 bg-gray-200 rounded" }),
                    React.createElement('span', null, "Not Attempted")
                  )
                ))
              )
            )
          );
        };

        // Render the app
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(React.createElement(D385StudyApp));
    </script>
</body>
</html>
